{"version":3,"file":"main.js","mappings":"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","sources":["./account/data-access/src/index.ts","./account/data-access/src/lib/application/index.ts","./account/data-access/src/lib/application/user.facade.ts","./account/data-access/src/lib/dtos/create-user.ts","./account/data-access/src/lib/dtos/index.ts","./account/data-access/src/lib/dtos/update-user.ts","./account/data-access/src/lib/dtos/user.ts","./account/data-access/src/lib/infrastructure/index.ts","./account/data-access/src/lib/infrastructure/user.service.impl.ts","./account/data-access/src/lib/infrastructure/user.service.mock.ts","./account/data-access/src/lib/providers/index.ts","./account/data-access/src/lib/providers/user.ts","./account/data-access/src/public-api.ts","./account/domain/src/index.ts","./account/domain/src/lib/dtos/create-user.ts","./account/domain/src/lib/dtos/index.ts","./account/domain/src/lib/dtos/update-user.ts","./account/domain/src/lib/entities/index.ts","./account/domain/src/lib/entities/user.ts","./account/domain/src/lib/ports/index.ts","./account/domain/src/lib/ports/user.repository.ts","./account/domain/src/lib/ports/user.service.ts","./account/domain/src/public-api.ts","./app/src/app/app.component.ts","./app/src/app/app.interceptor.ts","./app/src/app/app.module.ts","./app/src/app/app.routes.ts","./app/src/app/loader/loader.component.ts","./app/src/envs/env.testing.ts","./app/src/main.ts","./content/data-access/src/index.ts","./content/data-access/src/lib/application/content.facade.ts","./content/data-access/src/lib/application/index.ts","./content/data-access/src/lib/dtos/content.ts","./content/data-access/src/lib/dtos/create-content.ts","./content/data-access/src/lib/dtos/index.ts","./content/data-access/src/lib/dtos/update-content.ts","./content/data-access/src/lib/infrastructure/content.service.impl.ts","./content/data-access/src/lib/infrastructure/content.service.mock.ts","./content/data-access/src/lib/infrastructure/index.ts","./content/data-access/src/lib/providers/content.ts","./content/data-access/src/lib/providers/index.ts","./content/data-access/src/public-api.ts","./content/domain/src/index.ts","./content/domain/src/lib/dtos/create-content.ts","./content/domain/src/lib/dtos/index.ts","./content/domain/src/lib/dtos/update-content.ts","./content/domain/src/lib/entities/content.ts","./content/domain/src/lib/entities/index.ts","./content/domain/src/lib/ports/content.repository.ts","./content/domain/src/lib/ports/content.service.ts","./content/domain/src/lib/ports/index.ts","./content/domain/src/public-api.ts","./learning/data-access/src/index.ts","./learning/data-access/src/lib/application/index.ts","./learning/data-access/src/lib/application/rail.facade.ts","./learning/data-access/src/lib/dtos/create-rail.ts","./learning/data-access/src/lib/dtos/index.ts","./learning/data-access/src/lib/dtos/rail.ts","./learning/data-access/src/lib/dtos/update-rail.ts","./learning/data-access/src/lib/infrastructure/index.ts","./learning/data-access/src/lib/infrastructure/rail.service.impl.ts","./learning/data-access/src/lib/infrastructure/rail.service.mock.ts","./learning/data-access/src/lib/providers/index.ts","./learning/data-access/src/lib/providers/rail.ts","./learning/data-access/src/public-api.ts","./learning/domain/src/index.ts","./learning/domain/src/lib/dtos/create-rail.ts","./learning/domain/src/lib/dtos/index.ts","./learning/domain/src/lib/dtos/update-rail.ts","./learning/domain/src/lib/entities/index.ts","./learning/domain/src/lib/entities/rail.ts","./learning/domain/src/lib/ports/index.ts","./learning/domain/src/lib/ports/rail.repository.ts","./learning/domain/src/lib/ports/rail.service.ts","./learning/domain/src/public-api.ts","./shared/data-access/src/index.ts","./shared/data-access/src/lib/application/index.ts","./shared/data-access/src/lib/application/loader.ts","./shared/data-access/src/lib/application/store.ts","./shared/data-access/src/lib/data-access.ts","./shared/data-access/src/lib/infrastructure/base-service.ts","./shared/data-access/src/lib/infrastructure/in-memory.service.ts","./shared/data-access/src/lib/infrastructure/index.ts","./shared/data-access/src/lib/infrastructure/indexed-db.service.impl.ts","./shared/data-access/src/lib/infrastructure/mock.service.ts","./shared/data-access/src/lib/ports/http.ts","./shared/data-access/src/lib/ports/index.ts","./shared/data-access/src/public-api.ts","./shared/util-data/src/index.ts","./shared/util-data/src/lib/base/entity.ts","./shared/util-data/src/lib/base/facade.ts","./shared/util-data/src/lib/base/index.ts","./shared/util-data/src/lib/base/page-meta.ts","./shared/util-data/src/lib/base/paged.ts","./shared/util-data/src/lib/base/store.ts","./shared/util-data/src/lib/di/container.ts","./shared/util-data/src/lib/di/index.ts","./shared/util-data/src/lib/di/token.ts","./shared/util-data/src/lib/filter/by.ts","./shared/util-data/src/lib/filter/collection.ts","./shared/util-data/src/lib/filter/index.ts","./shared/util-data/src/lib/filter/where.ts","./shared/util-data/src/lib/interfaces/bulk-result.ts","./shared/util-data/src/lib/interfaces/create.ts","./shared/util-data/src/lib/interfaces/find-one-by.ts","./shared/util-data/src/lib/interfaces/find-one.ts","./shared/util-data/src/lib/interfaces/find-params.ts","./shared/util-data/src/lib/interfaces/find.ts","./shared/util-data/src/lib/interfaces/index.ts","./shared/util-data/src/lib/interfaces/page-options.ts","./shared/util-data/src/lib/interfaces/page-params.ts","./shared/util-data/src/lib/interfaces/remove.ts","./shared/util-data/src/lib/interfaces/repository.ts","./shared/util-data/src/lib/interfaces/service.ts","./shared/util-data/src/lib/interfaces/update.ts","./shared/util-data/src/lib/mapper/cast.ts","./shared/util-data/src/lib/mapper/enum-options.ts","./shared/util-data/src/lib/mapper/index.ts","./shared/util-data/src/lib/sort/index.ts","./shared/util-data/src/lib/sort/order.ts","./shared/util-data/src/lib/types/fn.ts","./shared/util-data/src/lib/types/index.ts","./shared/util-data/src/lib/types/type.ts","./shared/util-data/src/lib/types/where.ts","./shared/util-data/src/public-api.ts"],"sourcesContent":["export * from './public-api'\n","export * from './user.facade'\n","import {Facade} from '@dev/shared-util-data'\nimport {User} from '@dev/account-domain'\n\nexport class UserFacade extends Facade<User> {}\n","export {CreateUser} from '@dev/account-domain'\n","export * from './user'\nexport * from './create-user'\nexport * from './update-user'\n","export {UpdateUser} from '@dev/account-domain'\n","export {User} from '@dev/account-domain'\n","export * from './user.service.impl'\nexport * from './user.service.mock'\n","import {User, UserService} from '@dev/account-domain'\nimport {BaseService} from '@dev/shared-data-access'\n\nexport class UserServiceImpl extends BaseService<User> implements UserService {}\n","import {User, UserService} from '@dev/account-domain'\nimport {MockService} from '@dev/shared-data-access'\nimport {Observable, of} from 'rxjs'\n\nexport class UserServiceMock extends MockService<User> implements UserService {\n  create(value: Partial<User>): Observable<User> {\n    const entity = {\n      ...value,\n      id: crypto.randomUUID(),\n      createdAt: new Date(),\n      updatedAt: new Date(),\n    } as User\n    this.collection.push(entity)\n    return of(entity)\n  }\n}\n","export * from './user'\n","import {User, UserService} from '@dev/account-domain'\nimport {UserServiceImpl, UserServiceMock} from '../infrastructure'\nimport {Http, provideServiceMock} from '@dev/shared-data-access'\nimport {UserFacade} from '../application'\n\nexport function provideUserService(api: string) {\n  return {\n    provide: UserService,\n    useFactory(http: Http) {\n      return new UserServiceImpl(http, api)\n    },\n    deps: [Http],\n  }\n}\n\nexport function provideUserServiceMock(collection: User[] = []) {\n  return provideServiceMock(UserService, UserServiceMock, collection)\n}\n\nexport function provideUserFacade() {\n  return {\n    provide: UserFacade,\n    deps: [UserService],\n  }\n}\n\nexport function provideUser(production = false, api: string | User[] = []) {\n  const providers = []\n  providers.push(\n    production\n      ? provideUserService(api as string)\n      : provideUserServiceMock(api as User[])\n  )\n  providers.push(provideUserFacade())\n  return providers\n}\n","export * from './lib/infrastructure'\nexport * from './lib/application'\nexport * from './lib/providers'\nexport * from './lib/dtos'\n","export * from './public-api'\n","export interface CreateUser {\n  name: string\n}\n","export * from './create-user'\nexport * from './update-user'\n","import {CreateUser} from './create-user'\n\nexport interface UpdateUser extends Partial<CreateUser> {\n  id: string\n}\n","export * from './user'\n","export interface User {\n  id: string\n  name: string\n  createdAt: Date\n  updatedAt: Date\n}\n","export * from './user.repository'\nexport * from './user.service'\n","import {Repository} from '@dev/shared-util-data'\nimport {CreateUser, UpdateUser} from '../dtos'\nimport {User} from '../entities'\n\nexport abstract class UserRepository extends Repository<User> {\n  abstract override create(value: CreateUser): Promise<User>\n  abstract override update(value: UpdateUser): Promise<User>\n}\n","import {CreateUser, UpdateUser} from '../dtos'\nimport {Service} from '@dev/shared-util-data'\nimport {User} from '../entities'\nimport {Observable} from 'rxjs'\n\nexport abstract class UserService extends Service<User> {\n  abstract override create(value: CreateUser): Observable<User>\n  abstract override update(value: UpdateUser): Observable<User>\n}\n","export * from './lib/dtos'\nexport * from './lib/ports'\nexport * from './lib/entities'\n","import {MediaMatcher} from '@angular/cdk/layout'\nimport {Loader} from '@dev/shared-data-access'\nimport {\n  inject,\n  Component,\n  ChangeDetectorRef,\n  ChangeDetectionStrategy,\n} from '@angular/core'\n\n@Component({\n  selector: 'dev-root',\n  template: `\n    <div class=\"app-container\" [class.app-is-mobile]=\"mobileQuery.matches\">\n      <mat-toolbar color=\"primary\" class=\"app-toolbar\">\n        <button mat-icon-button (click)=\"snav.toggle()\">\n          <mat-icon>menu</mat-icon>\n        </button>\n        <a routerLink=\"/\">\n          <img src=\"./assets/logo.svg\" alt=\"Quero Ser Dev\" />\n        </a>\n        <h1 class=\"app-app-name\">Quero Ser Dev</h1>\n        <span class=\"spacer\"></span>\n\n        <a\n          routerLink=\"/\"\n          routerLinkActive=\"active\"\n          [routerLinkActiveOptions]=\"{exact: true}\"\n          mat-button\n          >Home</a\n        >\n        <a routerLink=\"/content\" routerLinkActive=\"active\" mat-button\n          >Conteúdo</a\n        >\n        <a routerLink=\"/account\" routerLinkActive=\"active\" mat-button>Conta</a>\n        <a routerLink=\"/learning\" routerLinkActive=\"active\" mat-button\n          >Aprender</a\n        >\n\n        <button mat-icon-button [matMenuTriggerFor]=\"beforeMenu\">\n          <mat-icon>account_circle</mat-icon>\n        </button>\n        <mat-menu #beforeMenu=\"matMenu\" xPosition=\"before\">\n          <button mat-menu-item disabled>\n            <small>logado como</small>\n            <br />\n            email@guiseek.dev\n          </button>\n          <mat-divider></mat-divider>\n          <a mat-menu-item routerLink=\"/account\">\n            <mat-icon>source</mat-icon>\n            <span>Meu conteúdo</span>\n          </a>\n          <a mat-menu-item routerLink=\"/account\">\n            <mat-icon>settings</mat-icon>\n            <span>Configurações</span>\n          </a>\n          <mat-divider></mat-divider>\n          <button mat-menu-item>\n            <mat-icon>logout</mat-icon>\n            <span>Logout</span>\n          </button>\n        </mat-menu>\n      </mat-toolbar>\n\n      <mat-sidenav-container\n        class=\"app-sidenav-container\"\n        [style.marginTop.px]=\"mobileQuery.matches ? 56 : 0\"\n      >\n        <mat-sidenav\n          #snav\n          [mode]=\"mobileQuery.matches ? 'over' : 'side'\"\n          [fixedInViewport]=\"mobileQuery.matches\"\n          fixedTopGap=\"56\"\n        >\n        </mat-sidenav>\n\n        <mat-sidenav-content>\n          <router-outlet />\n          <dev-loader *ngIf=\"loader.active$ | async\" />\n        </mat-sidenav-content>\n      </mat-sidenav-container>\n    </div>\n  `,\n  styleUrls: ['./app.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class AppComponent {\n  loader = inject(Loader)\n\n  media = inject(MediaMatcher)\n  changeDetectorRef = inject(ChangeDetectorRef)\n\n  mobileQuery\n\n  constructor() {\n    this.mobileQuery = this.media.matchMedia('(max-width: 600px)')\n    const _mobileQueryListener = () => this.changeDetectorRef.detectChanges()\n    this.mobileQuery.addListener(_mobileQueryListener)\n  }\n}\n","import {HttpRequest, HttpHandler, HttpInterceptor} from '@angular/common/http'\nimport {Loader} from '@dev/shared-data-access'\nimport {Injectable} from '@angular/core'\nimport {finalize} from 'rxjs'\n\n@Injectable()\nexport class AppInterceptor implements HttpInterceptor {\n  constructor(private readonly loader: Loader) {}\n\n  intercept(request: HttpRequest<unknown>, next: HttpHandler) {\n    this.loader.activate()\n    return next.handle(request).pipe(\n      // delay(300),\n      finalize(() => this.loader.deActivate())\n    )\n  }\n}\n","import {BrowserAnimationsModule} from '@angular/platform-browser/animations'\nimport {provideHttp, provideLoader} from '@dev/shared-data-access'\nimport {BrowserModule} from '@angular/platform-browser'\nimport {registerLocaleData} from '@angular/common'\nimport {LOCALE_ID, NgModule} from '@angular/core'\nimport BR from '@angular/common/locales/extra/br'\nimport pt from '@angular/common/locales/pt'\nimport {RouterModule} from '@angular/router'\nimport {MatSidenavModule} from '@angular/material/sidenav'\nimport {MatMenuModule} from '@angular/material/menu'\nimport {MatDividerModule} from '@angular/material/divider'\nimport {MatToolbarModule} from '@angular/material/toolbar'\nimport {MatButtonModule} from '@angular/material/button'\nimport {MatIconModule} from '@angular/material/icon'\nimport {LayoutModule} from '@angular/cdk/layout'\nimport {\n  HttpClient,\n  HttpClientModule,\n  HTTP_INTERCEPTORS,\n} from '@angular/common/http'\nimport {provideUser} from '@dev/account-data-access'\nimport {provideRail} from '@dev/learning-data-access'\nimport {provideContent} from '@dev/content-data-access'\nimport {LoaderComponent} from './loader/loader.component'\nimport {AppInterceptor} from './app.interceptor'\nimport {AppComponent} from './app.component'\nimport {appRoutes} from './app.routes'\nimport {env} from '../envs/env'\n\nregisterLocaleData(pt, 'pt-BR', BR)\n\n@NgModule({\n  declarations: [AppComponent, LoaderComponent],\n  imports: [\n    BrowserModule,\n    HttpClientModule,\n    LayoutModule,\n    MatDividerModule,\n    MatSidenavModule,\n    MatMenuModule,\n    MatToolbarModule,\n    MatButtonModule,\n    MatIconModule,\n    BrowserAnimationsModule,\n    RouterModule.forRoot(appRoutes, {\n      useHash: true,\n      initialNavigation: 'enabledBlocking',\n    }),\n  ],\n  providers: [\n    provideHttp(HttpClient),\n    provideUser(env.production, env.api.account),\n    provideRail(env.production, env.api.learning),\n    provideContent(env.production, env.api.content),\n    provideLoader(),\n    {\n      provide: LOCALE_ID,\n      useValue: 'pt-BR',\n    },\n    {\n      provide: HTTP_INTERCEPTORS,\n      useClass: AppInterceptor,\n      multi: true,\n    },\n  ],\n  bootstrap: [AppComponent],\n})\nexport class AppModule {}\n","import {Route} from '@angular/router'\n\nexport const appRoutes: Route[] = [\n  {\n    path: 'learning',\n    loadChildren: () =>\n      import('@dev/learning-feature').then((m) => m.LearningFeatureModule),\n  },\n  {\n    path: '',\n    loadChildren: () =>\n      import('@dev/dashboard-feature').then((m) => m.DashboardFeatureModule),\n  },\n  {\n    path: 'account',\n    loadChildren: () =>\n      import('@dev/account-feature').then((m) => m.AccountFeatureModule),\n  },\n  {\n    path: 'content',\n    loadChildren: () =>\n      import('@dev/content-feature').then((m) => m.ContentFeatureModule),\n  },\n]\n","import {ChangeDetectionStrategy, Component} from '@angular/core'\n\n@Component({\n  selector: 'dev-loader',\n  template: ` <div class=\"sky\"></div> `,\n  styleUrls: ['./loader.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class LoaderComponent {}\n","export const env = {\n  production: false,\n  api: {\n    content: [],\n    account: [],\n    learning: [],\n  },\n}\n","import {platformBrowserDynamic} from '@angular/platform-browser-dynamic'\nimport {AppModule} from './app/app.module'\n\nplatformBrowserDynamic()\n  .bootstrapModule(AppModule)\n  .catch((err) => console.error(err))\n","export * from './public-api'\n","import {Facade} from '@dev/shared-util-data'\nimport {Content} from '@dev/content-domain'\n\nexport class ContentFacade extends Facade<Content> {}\n","export * from './content.facade'\n","export {Content} from '@dev/content-domain'\n","export {CreateContent} from '@dev/content-domain'\n","export * from './content'\nexport * from './create-content'\nexport * from './update-content'\n","export {UpdateContent} from '@dev/content-domain'\n","import {Content, ContentService} from '@dev/content-domain'\nimport {BaseService} from '@dev/shared-data-access'\n\nexport class ContentServiceImpl\n  extends BaseService<Content>\n  implements ContentService {}\n","import {Content, ContentService} from '@dev/content-domain'\nimport {MockService} from '@dev/shared-data-access'\nimport {Observable, of} from 'rxjs'\n\nexport class ContentServiceMock\n  extends MockService<Content>\n  implements ContentService\n{\n  create(value: Partial<Content>): Observable<Content> {\n    const entity = {\n      ...value,\n      id: crypto.randomUUID(),\n      createdAt: new Date(),\n      updatedAt: new Date(),\n    } as Content\n    this.collection.push(entity)\n    return of(entity)\n  }\n}\n","export * from './content.service.impl'\nexport * from './content.service.mock'\n","import {ContentServiceImpl, ContentServiceMock} from '../infrastructure'\nimport {Http, provideServiceMock} from '@dev/shared-data-access'\nimport {Content, ContentService} from '@dev/content-domain'\nimport {ContentFacade} from '../application'\n\nexport function provideContentService(api: string) {\n  return {\n    provide: ContentService,\n    useFactory(http: Http) {\n      return new ContentServiceImpl(http, api)\n    },\n    deps: [Http],\n  }\n}\n\nexport function provideContentServiceMock(collection: Content[] = []) {\n  return provideServiceMock(ContentService, ContentServiceMock, collection)\n}\n\nexport function provideContentFacade() {\n  return {\n    provide: ContentFacade,\n    deps: [ContentService],\n  }\n}\n\nexport function provideContent(\n  production = false,\n  api: string | Content[] = []\n) {\n  const providers = []\n  providers.push(\n    production\n      ? provideContentService(api as string)\n      : provideContentServiceMock(api as Content[])\n  )\n\n  providers.push(provideContentFacade())\n  return providers\n}\n","export * from './content'\n","export * from './lib/infrastructure'\nexport * from './lib/application'\nexport * from './lib/providers'\nexport * from './lib/dtos'\n","export * from './public-api'\n","export interface CreateContent {\n  title: string\n  path: string\n}\n","export * from './create-content'\nexport * from './update-content'\n","import {CreateContent} from './create-content'\n\nexport interface UpdateContent extends Partial<CreateContent> {\n  id: string\n}\n","export interface Content {\n  id: string\n  title: string\n  path: string\n  createdAt: Date\n  updatedAt: Date\n}\n","export * from './content'\n","import {CreateContent, UpdateContent} from '../dtos'\nimport {Repository} from '@dev/shared-util-data'\nimport {Content} from '../entities'\n\nexport abstract class ContentRepository extends Repository<Content> {\n  abstract override create(value: CreateContent): Promise<Content>\n  abstract override update(value: UpdateContent): Promise<Content>\n}\n","import {CreateContent, UpdateContent} from '../dtos'\nimport {Service} from '@dev/shared-util-data'\nimport {Content} from '../entities'\nimport {Observable} from 'rxjs'\n\nexport abstract class ContentService extends Service<Content> {\n  abstract override create(value: CreateContent): Observable<Content>\n  abstract override update(value: UpdateContent): Observable<Content>\n}\n","export * from './content.repository'\nexport * from './content.service'\n","export * from './lib/dtos'\nexport * from './lib/ports'\nexport * from './lib/entities'\n","export * from './public-api'\n","export * from './rail.facade'\n","import {Facade} from '@dev/shared-util-data'\nimport {Rail} from '@dev/learning-domain'\n\nexport class RailFacade extends Facade<Rail> {}\n","export {CreateRail} from '@dev/learning-domain'\n","export * from './create-rail'\nexport * from './rail'\nexport * from './update-rail'\n","export {Rail} from '@dev/learning-domain'\n","export {UpdateRail} from '@dev/learning-domain'\n","export * from './rail.service.impl'\nexport * from './rail.service.mock'\n","import {Rail, RailService} from '@dev/learning-domain'\nimport {BaseService} from '@dev/shared-data-access'\n\nexport class RailServiceImpl extends BaseService<Rail> implements RailService {}\n","import {Rail, RailService} from '@dev/learning-domain'\nimport {MockService} from '@dev/shared-data-access'\nimport {Observable, of} from 'rxjs'\n\nexport class RailServiceMock extends MockService<Rail> implements RailService {\n  create(value: Partial<Rail>): Observable<Rail> {\n    const entity = {\n      ...value,\n      id: crypto.randomUUID(),\n      createdAt: new Date(),\n      updatedAt: new Date(),\n    } as Rail\n    this.collection.push(entity)\n    return of(entity)\n  }\n}\n","export * from './rail'\n","import {Rail, RailService} from '@dev/learning-domain'\nimport {RailServiceImpl, RailServiceMock} from '../infrastructure'\nimport {Http, provideServiceMock} from '@dev/shared-data-access'\nimport {RailFacade} from '../application'\n\nexport function provideRailService(api: string) {\n  return {\n    provide: RailService,\n    useFactory(http: Http) {\n      return new RailServiceImpl(http, api)\n    },\n    deps: [Http],\n  }\n}\n\nexport function provideRailServiceMock(collection: Rail[] = []) {\n  return provideServiceMock(RailService, RailServiceMock, collection)\n}\n\nexport function provideRailFacade() {\n  return {\n    provide: RailFacade,\n    deps: [RailService],\n  }\n}\n\nexport function provideRail(production = false, api: string | Rail[] = []) {\n  const providers = []\n  providers.push(\n    production\n      ? provideRailService(api as string)\n      : provideRailServiceMock(api as Rail[])\n  )\n  providers.push(provideRailFacade())\n  return providers\n}\n","export * from './lib/infrastructure'\nexport * from './lib/application'\nexport * from './lib/providers'\nexport * from './lib/dtos'\n","export * from './public-api'\n","export interface CreateRail {\n  name: string\n}\n","export * from './create-rail'\nexport * from './update-rail'\n","import {CreateRail} from './create-rail'\n\nexport interface UpdateRail extends Partial<CreateRail> {\n  id: string\n}\n","export * from './rail'\n","export interface Rail {\n  id: string\n  name: string\n  createdAt: Date\n  updatedAt: Date\n}\n","export * from './rail.repository'\nexport * from './rail.service'\n","import {CreateRail, UpdateRail} from '../dtos'\nimport {Repository} from '@dev/shared-util-data'\nimport {Rail} from '../entities'\n\nexport abstract class RailRepository extends Repository<Rail> {\n  abstract override create(value: CreateRail): Promise<Rail>\n  abstract override update(value: UpdateRail): Promise<Rail>\n}\n","import {CreateRail, UpdateRail} from '../dtos'\nimport {Service} from '@dev/shared-util-data'\nimport {Rail} from '../entities'\nimport {Observable} from 'rxjs'\n\nexport abstract class RailService extends Service<Rail> {\n  abstract override create(value: CreateRail): Observable<Rail>\n  abstract override update(value: UpdateRail): Observable<Rail>\n}\n","export * from './lib/dtos'\nexport * from './lib/ports'\nexport * from './lib/entities'\n","export * from './public-api'\n","export * from './loader'\nexport * from './store'\n","import {Store} from './store'\n\ninterface LoaderState {\n  active: boolean\n}\n\nexport class Loader extends Store<LoaderState> {\n  active$ = this.select((state) => state.active)\n\n  constructor() {\n    super({active: false})\n  }\n\n  activate() {\n    this.setState({active: true})\n  }\n\n  deActivate() {\n    this.setState({active: false})\n  }\n}\n","import {BehaviorSubject, distinctUntilChanged, map} from 'rxjs'\n\nexport abstract class Store<T> {\n  #state: BehaviorSubject<T>\n\n  protected get state(): T {\n    return this.#state.getValue()\n  }\n\n  constructor(initialState: T) {\n    const state = Object.freeze(initialState)\n    this.#state = new BehaviorSubject<T>(state)\n  }\n\n  protected select<K>(mapFn: (state: T) => K) {\n    return this.#state.asObservable().pipe(\n      map((state: T) => mapFn(state)),\n      distinctUntilChanged()\n    )\n  }\n\n  protected setState(newState: Partial<T>) {\n    this.#state.next({\n      ...this.state,\n      ...newState,\n    })\n  }\n}\n","import {Loader} from './application'\nimport {Http} from './ports'\n\nexport function provideHttp<T>(http: T) {\n  return {\n    provide: Http,\n    useClass: http,\n  }\n}\n\nexport function provideLoader() {\n  return {\n    provide: Loader,\n  }\n}\n","import {\n  Paged,\n  Where,\n  Service,\n  BulkResult,\n  FindParams,\n} from '@dev/shared-util-data'\nimport {Http} from '../ports'\n\nexport abstract class BaseService<T extends object> implements Service<T> {\n  constructor(private readonly http: Http<T>, readonly url: string) {}\n\n  find({options}: FindParams<T> = {options: {}}) {\n    return this.http.get<Paged<T>>(this.url, {params: options})\n  }\n\n  count(where: Where<T> = {}) {\n    return this.http.post<number>(`${this.url}/count`, where)\n  }\n\n  filter({where = {}, options}: FindParams<T> = {where: {}, options: {}}) {\n    return this.http.post<Paged<T>, Where<T>>(`${this.url}/filter`, where, {\n      params: options,\n    })\n  }\n\n  create(value: Partial<T>) {\n    return this.http.post<T, Partial<T>>(this.url, value)\n  }\n\n  update(value: Partial<T>) {\n    return this.http.put<T, Partial<T>>(this.url, value)\n  }\n\n  remove(id: string) {\n    return this.http.delete<T>(`${this.url}/${id}`)\n  }\n\n  removeBulk(...ids: string[]) {\n    return this.http.delete<BulkResult>(`${this.url}/bulk`, {params: {ids}})\n  }\n\n  findOne(value: string) {\n    return this.http.delete<T>(`${this.url}/${value}`)\n  }\n}\n","import {InMemoryDbService, RequestInfo} from 'angular-in-memory-web-api'\nimport {Observable, of} from 'rxjs'\n\nexport class InMemoryService<T extends object> implements InMemoryDbService {\n  createDb(reqInfo?: RequestInfo, ...items: T[]): Observable<T[]> {\n    console.log(reqInfo)\n    return of([...items])\n  }\n\n  genId() {\n    return crypto.randomUUID()\n  }\n}\n","export * from './base-service'\nexport * from './in-memory.service'\nexport * from './indexed-db.service.impl'\nexport * from './mock.service'\n","// function arrayBufferToBlob<B extends ArrayBuffer, T extends string>(\n//   buffer: B,\n//   type: T\n// ) {\n//   return new Blob([buffer], {type: type})\n// }\n\n// function blobToArrayBuffer(blob: Blob) {\n//   return new Promise<ArrayBuffer>((resolve, reject) => {\n//     const reader = new FileReader()\n//     reader.addEventListener('loadend', () => {\n//       if (reader.result instanceof ArrayBuffer) {\n//         resolve(reader.result)\n//       }\n//     })\n//     reader.addEventListener('error', reject)\n//     reader.readAsArrayBuffer(blob)\n//   })\n// }\n\nclass MissingStoresError extends Error {\n  constructor(readonly db: IDBDatabase) {\n    super('Missing stores')\n  }\n}\n\nexport class DBClosedError extends Error {\n  readonly code = 'DBClosed'\n  constructor(dbName: string) {\n    super(`IndexedDB database '${dbName}' is closed.`)\n  }\n}\n\nexport class IndexedDbService {\n  #database: IDBDatabase | null\n\n  readonly #pendingTransactions: IDBTransaction[] = []\n\n  constructor(database: IDBDatabase, private readonly name: string) {\n    this.#database = database\n  }\n\n  static async create(\n    name: string,\n    version: number | undefined,\n    stores: string[]\n  ) {\n    const database = await IndexedDbService.#openDatabase(name, version, stores)\n    return new IndexedDbService(database, name)\n  }\n\n  static async #openDatabase(\n    name: string,\n    version: number | undefined,\n    stores: string[]\n  ) {\n    try {\n      return await IndexedDbService.#doOpenDatabase(name, version, stores)\n    } catch (err) {\n      if (err instanceof MissingStoresError) {\n        console.info(`Attempting to recreate the IndexedDB once.`, name)\n\n        try {\n          // Try to delete the db\n          await IndexedDbService.#deleteDatabase(err.db)\n        } catch (error) {\n          console.error(\n            `Error while deleting the IndexedDB`,\n            error\n            // getErrorMessage(error)\n          )\n          throw error\n        }\n\n        return await IndexedDbService.#doOpenDatabase(name, version, stores)\n      }\n\n      throw err\n    }\n  }\n\n  static #deleteDatabase(indexedDB: IDBDatabase) {\n    return new Promise<void>((c, e) => {\n      // Close any opened connections\n      indexedDB.close()\n\n      // Delete the db\n      const deleteRequest = window.indexedDB.deleteDatabase(indexedDB.name)\n      deleteRequest.onerror = () => e(deleteRequest.error)\n      deleteRequest.onsuccess = () => c()\n    })\n  }\n\n  static #doOpenDatabase(\n    name: string,\n    version: number | undefined,\n    stores: string[]\n  ): Promise<IDBDatabase> {\n    return new Promise((c, e) => {\n      const request = window.indexedDB.open(name, version)\n      request.onerror = () => e(request.error)\n      request.onsuccess = () => {\n        const db = request.result\n        for (const store of stores) {\n          if (!db.objectStoreNames.contains(store)) {\n            console.error(\n              `Error while opening IndexedDB. Could not find '${store}'' object store`\n            )\n            e(new MissingStoresError(db))\n            return\n          }\n        }\n        c(db)\n      }\n      request.onupgradeneeded = () => {\n        const db = request.result\n        for (const store of stores) {\n          if (!db.objectStoreNames.contains(store)) {\n            db.createObjectStore(store)\n          }\n        }\n      }\n    })\n  }\n\n  hasPendingTransactions(): boolean {\n    return this.#pendingTransactions.length > 0\n  }\n\n  close(): void {\n    if (this.#pendingTransactions.length) {\n      this.#pendingTransactions\n        .splice(0, this.#pendingTransactions.length)\n        .forEach((transaction) => transaction.abort())\n    }\n    this.#database?.close()\n    this.#database = null\n  }\n\n  runInTransaction<T>(\n    store: string,\n    transactionMode: IDBTransactionMode,\n    dbRequestFn: (store: IDBObjectStore) => IDBRequest<T>[]\n  ): Promise<T[]>\n  runInTransaction<T>(\n    store: string,\n    transactionMode: IDBTransactionMode,\n    dbRequestFn: (store: IDBObjectStore) => IDBRequest<T>\n  ): Promise<T>\n  async runInTransaction<T>(\n    store: string,\n    transactionMode: IDBTransactionMode,\n    dbRequestFn: (store: IDBObjectStore) => IDBRequest<T> | IDBRequest<T>[]\n  ): Promise<T | T[]> {\n    if (!this.#database) {\n      throw new DBClosedError(this.name)\n    }\n    const transaction = this.#database.transaction(store, transactionMode)\n    this.#pendingTransactions.push(transaction)\n    return new Promise<T | T[]>((c, e) => {\n      transaction.oncomplete = () => {\n        if (Array.isArray(request)) {\n          c(request.map((r) => r.result))\n        } else {\n          c(request.result)\n        }\n      }\n      transaction.onerror = () => e(transaction.error)\n      transaction.onabort = () => e(transaction.error)\n      const request = dbRequestFn(transaction.objectStore(store))\n    }).finally(() =>\n      this.#pendingTransactions.splice(\n        this.#pendingTransactions.indexOf(transaction),\n        1\n      )\n    )\n  }\n\n  async getKeyValues<V>(\n    store: string,\n    isValid: (value: unknown) => value is V\n  ): Promise<Map<string, V>> {\n    if (!this.#database) {\n      throw new DBClosedError(this.name)\n    }\n    const transaction = this.#database.transaction(store, 'readonly')\n    this.#pendingTransactions.push(transaction)\n    return new Promise<Map<string, V>>((resolve) => {\n      const items = new Map<string, V>()\n\n      const objectStore = transaction.objectStore(store)\n\n      // Open a IndexedDB Cursor to iterate over key/values\n      const cursor = objectStore.openCursor()\n      if (!cursor) {\n        return resolve(items) // this means the `ItemTable` was empty\n      }\n\n      // Iterate over rows of `ItemTable` until the end\n      cursor.onsuccess = () => {\n        if (cursor.result) {\n          // Keep cursor key/value in our map\n          if (isValid(cursor.result.value)) {\n            items.set(cursor.result.key.toString(), cursor.result.value)\n          }\n\n          // Advance cursor to next row\n          cursor.result.continue()\n        } else {\n          resolve(items) // reached end of table\n        }\n      }\n\n      // Error handlers\n      const onError = (error: Error | null) => {\n        // console.error(`IndexedDB getKeyValues(): ${toErrorMessage(error, true)}`);\n        console.error(`IndexedDB getKeyValues(): ${error}`)\n\n        resolve(items)\n      }\n      cursor.onerror = () => onError(cursor.error)\n      transaction.onerror = () => onError(transaction.error)\n    }).finally(() =>\n      this.#pendingTransactions.splice(\n        this.#pendingTransactions.indexOf(transaction),\n        1\n      )\n    )\n  }\n}\n\n// const db = IndexedDbService.create('db', undefined, ['store1'])\n// console.log(db)\n","import {SvcMockOf} from '../types'\nimport {Observable, of} from 'rxjs'\nimport {\n  Entity,\n  FindParams,\n  PageMeta,\n  Paged,\n  Service,\n  Where,\n  where,\n} from '@dev/shared-util-data'\n\nexport function provideServiceMock<E extends Entity, B>(\n  base: B,\n  impl: SvcMockOf<E>,\n  collection: E[]\n) {\n  return {\n    provide: base,\n    useFactory() {\n      return new impl(collection)\n    },\n  }\n}\n\nexport abstract class MockService<\n  T extends Entity & object\n> extends Service<T> {\n  constructor(readonly collection: T[] = []) {\n    super()\n  }\n\n  find(params: FindParams<T> = {where: {}, options: {}}) {\n    const {\n      skip = 0,\n      take = 10,\n      order,\n      sort = 'createdAt',\n    } = params.options ?? {}\n\n    const ord = order === 'ASC' ? 1 : -1\n    console.log(this.collection)\n\n    const entities = this.collection\n      // .filter(where(params.where ?? {}))\n      .slice(skip, skip + take)\n      .sort((a, b) => {\n        return a[sort as keyof T] > b[sort as keyof T] ? ord : ord * -1\n      })\n\n    const options = params.options ?? {}\n\n    const itemCount = entities.length\n\n    const pageMetaDto = new PageMeta({itemCount, options})\n\n    return of(new Paged(entities, pageMetaDto))\n  }\n\n  filter(params: FindParams<T>): Observable<Paged<T>> {\n    return this.find(params)\n  }\n\n  count(params: Where<T>) {\n    const entities = this.collection.filter(where(params))\n\n    return of(entities.length)\n  }\n\n  // abstract override create(value: Partial<T>): Observable<T>\n\n  update(value: Partial<T>) {\n    const index = this.collection.findIndex((item) => item.id === value.id)\n    const entity = {...this.collection[index], ...value}\n    this.collection[index] = entity\n    return of(entity)\n  }\n\n  remove(id: string) {\n    const index = this.collection.findIndex((item) => item.id === id)\n    const entity = this.collection[index]\n    this.collection.splice(index, 1)\n    return of(entity)\n  }\n\n  removeBulk(...ids: string[]) {\n    const {length} = ids.map((id) => this.remove(id))\n    return of({affected: length})\n  }\n\n  findOne(id: string) {\n    return of(this.collection.find((item) => item.id === id) ?? null)\n  }\n}\n","import {Observable} from 'rxjs'\n\nabstract class Http<T = unknown> {\n  constructor(protected readonly baseUrl: string) {}\n\n  protected abstract request<R = T, D = unknown>(\n    method: string,\n    path: string,\n    data?: T | D\n  ): Observable<R>\n\n  abstract get<R>(path: string, config?: Partial<RequestConfig>): Observable<R>\n\n  abstract post<R, D = unknown>(\n    path: string,\n    data: D,\n    options?: Partial<RequestConfig>\n  ): Observable<R>\n\n  abstract put<R, D = unknown>(\n    path: string,\n    data: D,\n    options?: Partial<RequestConfig>\n  ): Observable<R>\n\n  abstract delete<R, D = unknown>(\n    path: string,\n    data?: D,\n    options?: Partial<RequestConfig>\n  ): Observable<R>\n}\n\ninterface ResponseTypeMap<T = void> {\n  arrayBuffer: ArrayBuffer\n  text: string\n  blob: Blob\n  json: T\n}\n\ninterface RequestConfig extends Omit<RequestInit, 'method'> {\n  responseType: keyof ResponseTypeMap\n  params?: object\n}\n\ntype FetchResponse<T, C extends RequestConfig> =\n  | ResponseTypeMap<T>[C extends keyof ResponseTypeMap\n      ? C['responseType']\n      : 'json']\n\nexport {Http}\nexport type {ResponseTypeMap, RequestConfig, FetchResponse}\n","export * from './http'\n","export * from './lib/infrastructure'\nexport * from './lib/data-access'\nexport * from './lib/application'\nexport * from './lib/ports'\n","export * from './public-api'\n","export class Entity {\n  id: string\n  createdAt: Date\n  updatedAt: Date\n}\n","import {FindParams, Service} from '../interfaces'\nimport {Observable, catchError, take} from 'rxjs'\nimport {Store} from './store'\nimport {Where} from '../types'\nimport {Paged} from './paged'\n\ninterface FacadeState<T> extends Paged<T> {\n  selected: T | null\n  warning: string | null\n  loading: boolean\n  count: number\n}\n\nexport abstract class Facade<T extends object> extends Store<FacadeState<T>> {\n  selected$ = this.select((state) => state.selected)\n  loading$ = this.select((state) => state.loading)\n  warning$ = this.select((state) => state.warning)\n  count$ = this.select((state) => state.count)\n  data$ = this.select((state) => state.data)\n  meta$ = this.select((state) => state.meta)\n\n  constructor(protected readonly service: Service<T>) {\n    super({\n      data: [],\n      meta: {\n        hasNextPage: false,\n        hasPreviousPage: false,\n        itemCount: 0,\n        page: 1,\n        pageCount: 0,\n        take: 10,\n      },\n      loading: false,\n      selected: null,\n      warning: null,\n      count: 0,\n    })\n  }\n\n  find(params?: FindParams<T>) {\n    const find$ = this.service.find(params).pipe(take(1))\n    find$.subscribe((response) => this.setState(response))\n  }\n\n  count(where?: Where<T>) {\n    const find$ = this.service.count(where).pipe(take(1))\n    find$.subscribe((count) => this.setState({count}))\n  }\n\n  filter(params: FindParams<T>) {\n    const find$ = this.service.filter(params).pipe(take(1))\n    find$.subscribe((response) => this.setState(response))\n  }\n\n  findOne(id: string) {\n    const findOne$ = this.service.findOne(id).pipe(take(1))\n    findOne$.subscribe((selected) => this.setState({selected}))\n  }\n\n  create(createContent: Partial<T>) {\n    const create$ = this.service.create(createContent).pipe(take(1))\n    create$.pipe(catchError(this.handleError)).subscribe((selected) => {\n      this.setState({selected})\n      this.find()\n    })\n  }\n\n  update(updateContent: Partial<T>) {\n    const update$ = this.service.update(updateContent).pipe(take(1))\n    update$.pipe(catchError(this.handleError)).subscribe((selected) => {\n      this.setState({selected})\n      this.find()\n    })\n  }\n\n  remove(id: string) {\n    const remove$ = this.service.remove(id).pipe(take(1))\n    remove$.subscribe((selected) => {\n      this.setState({selected})\n      this.find()\n    })\n  }\n\n  removeBulk(ids: string[]) {\n    const remove$ = this.service.removeBulk(...ids).pipe(take(1))\n    remove$.subscribe(() => this.find())\n  }\n\n  handleError = (err: {error: Error}, caught: Observable<T>) => {\n    if (err) {\n      this.setState({warning: err.error.message})\n      throw err.error.message\n    }\n    return caught\n  }\n}\n","export * from './entity'\nexport * from './facade'\nexport * from './page-meta'\nexport * from './paged'\nexport * from './store'\n","import {PageParams} from '../interfaces'\n\nexport class PageMeta {\n  readonly page: number\n\n  readonly take: number\n\n  readonly itemCount: number\n\n  readonly pageCount: number\n\n  readonly hasPreviousPage: boolean\n\n  readonly hasNextPage: boolean\n\n  constructor({options, itemCount}: PageParams) {\n    this.page = options.page ?? 1\n    this.take = options.take ?? 10\n    this.itemCount = itemCount\n    this.pageCount = Math.ceil(this.itemCount / this.take)\n    this.hasPreviousPage = this.page > 1\n    this.hasNextPage = this.page < this.pageCount\n  }\n}\n","import {PageMeta} from './page-meta'\n\nexport class Paged<T> {\n  readonly data: T[]\n\n  readonly meta: PageMeta\n\n  constructor(data: T[], meta: PageMeta) {\n    this.data = data\n    this.meta = meta\n  }\n}\n","import {BehaviorSubject, distinctUntilChanged, map} from 'rxjs'\n\nexport abstract class Store<T> {\n  #state: BehaviorSubject<T>\n\n  protected get state(): T {\n    return this.#state.getValue()\n  }\n\n  constructor(initialState: T) {\n    const state = Object.freeze(initialState)\n    this.#state = new BehaviorSubject<T>(state)\n  }\n\n  protected select<K>(mapFn: (state: T) => K) {\n    return this.#state.asObservable().pipe(\n      map((state: T) => mapFn(state)),\n      distinctUntilChanged()\n    )\n  }\n\n  protected setState(newState: Partial<T>) {\n    this.#state.next({\n      ...this.state,\n      ...newState,\n    })\n  }\n}\n","import {Type} from '../types'\nimport {token} from './token'\n\nconst container = new Map<symbol, Type<unknown>[]>()\n\nexport function create<N extends string, T>(name: N, ...values: Type<T>[]) {\n  const uniqueToken = token(name)\n  container.set(uniqueToken, values)\n  return {\n    token: uniqueToken,\n    container,\n    add<T>(value: Type<T>) {\n      const values = container.get(uniqueToken) ?? []\n      container.set(uniqueToken, [...values, value])\n    },\n    getAll() {\n      return container.get(uniqueToken) ?? []\n    },\n  }\n}\n","export * from './container'\nexport * from './token'\n","export const token = (name: string) => {\n  const symbol: unique symbol = Symbol(name)\n  return symbol\n}\n","export const by =\n  <E, K extends keyof E>(key: K, value: E[K]) =>\n  (item: E) =>\n    item[key] === value\n","import {Where} from '../types'\n\ntype SortOrder = 'ASC' | 'DESC'\n\ntype Order<T extends object> = {\n  [K in keyof T]: SortOrder\n}\n\nexport class Collection<T extends object> extends Array<T> {\n  constructor(...items: T[]) {\n    super(...items)\n  }\n\n  order(params: Order<T>) {\n    return this.sort((a, b) => {\n      return Object.entries(params)\n        .map(([key, direction]) => {\n          const valueA = a[key as keyof T]\n          const valueB = b[key as keyof T]\n\n          if (direction === 'ASC') {\n            if (valueA < valueB) return -1\n            if (valueA > valueB) return 1\n            return 0\n          } else {\n            if (valueA > valueB) return -1\n            if (valueA < valueB) return 1\n            return 0\n          }\n        })\n        .reduce((prev, curr) => (prev > curr ? 1 : -1))\n    })\n  }\n\n  findOneBy<K extends keyof T>(key: K, value: T[K]) {\n    return this.find((item) => item[key] === value)\n  }\n\n  where(params: Where<T>) {\n    return this.filter((entity) => {\n      return Object.entries(params)\n        .filter(([, val]) => val)\n        .some(([key, val]) => entity[key as keyof T] === val)\n    })\n  }\n}\n","export * from './by'\nexport * from './collection'\nexport * from './where'\n","import {Where} from '../types'\n\nexport function where<T>(where: Where<T>) {\n  return (entity: T) => {\n    Object.entries(where)\n      .filter(([, val]) => val)\n      .some(([key, val]) => entity[key as keyof T] === val)\n  }\n}\n","export interface BulkResult {\n  affected?: number | null\n}\n","import {Observable} from 'rxjs'\n\nexport interface Create<T extends object> {\n  create(value: Partial<T>): Promise<T> | Observable<T>\n}\n","import {Observable} from 'rxjs'\n\nexport interface FindOneBy<T extends object> {\n  findOne<K extends keyof T>(\n    key: K,\n    value: T[K]\n  ): Promise<T | null> | Observable<T | null>\n}\n","import {Observable} from 'rxjs'\n\nexport interface FindOne<T extends object> {\n  findOne(value: T[keyof T]): Promise<T | null> | Observable<T | null>\n}\n","import {Where} from '../types'\nimport {PageOptions} from './page-options'\n\nexport interface FindParams<T> {\n  options?: PageOptions\n  where?: Where<T>\n}\n","import {FindParams} from './find-params'\nimport {Observable} from 'rxjs'\nimport {Paged} from './paged'\n\nexport interface Find<T extends object> {\n  find(params?: FindParams<T>): Promise<Paged<T>> | Observable<Paged<T>>\n}\n","export * from './bulk-result'\nexport * from './create'\nexport * from './find-one-by'\nexport * from './find-one'\nexport * from './find-params'\nexport * from './find'\n// export * from './page-meta'\nexport * from './page-options'\nexport * from './page-params'\n// export * from './paged'\nexport * from './remove'\nexport * from './repository'\nexport * from './service'\nexport * from './update'\n","import {Order, OrderLiteral} from '../sort/order'\n\nexport interface PageOptions {\n  readonly order?: Order | OrderLiteral\n  readonly sort?: string\n  readonly page?: number\n  readonly take?: number\n  readonly skip?: number\n}\n","import {PageOptions} from './page-options'\n\nexport interface PageParams {\n  options: PageOptions\n  itemCount: number\n}\n","import {Observable} from 'rxjs'\n\nexport interface Remove<T extends object> {\n  remove(id: string): Promise<T> | Observable<T>\n}\n","import {FindParams} from './find-params'\nimport {BulkResult} from './bulk-result'\nimport {Paged} from './paged'\nimport {Where} from '../types'\n\nexport abstract class Repository<T extends object> {\n  abstract find(params?: FindParams<T>): Promise<Paged<T>>\n  abstract count(where?: Where<T>): Promise<BulkResult>\n  abstract create(value: Partial<T>): Promise<T>\n  abstract update(value: Partial<T>): Promise<T>\n  abstract remove(id: string): Promise<T>\n  abstract removeBulk(...ids: string[]): Promise<BulkResult>\n  abstract findOne<K extends keyof T>(key: K, value: T[K]): Promise<T | null>\n}\n","import {FindParams} from './find-params'\nimport {BulkResult} from './bulk-result'\nimport {Observable} from 'rxjs'\nimport {Paged} from '../base'\nimport {Where} from '../types'\n\nexport abstract class Service<T extends object> {\n  abstract find(params?: FindParams<T>): Observable<Paged<T>>\n  abstract count(where?: Where<T>): Observable<number>\n  abstract filter(params: FindParams<T>): Observable<Paged<T>>\n  abstract create(value: Partial<T>): Observable<T>\n  abstract update(value: Partial<T>): Observable<T>\n  abstract remove(id: string): Observable<T>\n  abstract removeBulk(...ids: string[]): Observable<BulkResult>\n  abstract findOne(value: string): Observable<T | null>\n}\n","import {Observable} from 'rxjs'\n\nexport interface Update<T extends object> {\n  update(value: Partial<T>): Promise<T> | Observable<T>\n}\n","export class Cast {\n  static toString<T>(value: T) {\n    return String(value) === '[object Object]'\n      ? JSON.stringify(value)\n      : (String(value) as string)\n  }\n\n  static fromString<R>(value: string) {\n    if (!isNaN(+value)) return +value as R\n\n    try {\n      return JSON.parse(value) as R\n    } catch {\n      return value as R\n    }\n  }\n}\n","export const enumOptions = <T extends object>(value: T) =>\n  Object.entries(value).map(\n    ([value, text]) =>\n      ({value, text} as {\n        value: keyof T\n        text: string\n      })\n  )\n","export * from './cast'\nexport * from './enum-options'\n","export * from './order'\n","import {enumOptions} from '../mapper'\n\nexport enum Order {\n  ASC = 'ASC',\n  DESC = 'DESC',\n}\n\nexport type OrderLiteral = `${Order}`\n\nexport const orderOptions = enumOptions(Order)\n","export type Fn<T = void> = (...params: any[]) => T\n","export * from './fn'\nexport * from './type'\nexport * from './where'\n","export interface Type<T = any> {\n  new (...params: any[]): T\n}\n","export type Where<Entity> = {\n  [P in keyof Entity]?: Entity[P]\n}\n","export * from './lib/di'\nexport * from './lib/base'\nexport * from './lib/types'\nexport * from './lib/sort'\nexport * from './lib/interfaces'\nexport * from './lib/filter'\nexport * from './lib/mapper'\n"],"names":["Facade","UserFacade","BaseService","UserServiceImpl","MockService","of","UserServiceMock","create","value","entity","id","crypto","randomUUID","createdAt","Date","updatedAt","collection","push","UserService","Http","provideServiceMock","provideUserService","api","provide","useFactory","http","deps","provideUserServiceMock","provideUserFacade","provideUser","production","providers","Repository","UserRepository","Service","MediaMatcher","Loader","inject","ChangeDetectorRef","i0","ɵɵelement","AppComponent","constructor","loader","media","changeDetectorRef","mobileQuery","matchMedia","_mobileQueryListener","detectChanges","addListener","selectors","decls","vars","consts","template","AppComponent_Template","rf","ctx","ɵɵelementStart","ɵɵlistener","AppComponent_Template_button_click_2_listener","ɵɵrestoreView","_r3","_r1","ɵɵreference","ɵɵresetView","toggle","ɵɵtext","ɵɵelementEnd","ɵɵtemplate","AppComponent_dev_loader_50_Template","ɵɵclassProp","matches","ɵɵadvance","ɵɵproperty","ɵɵpureFunction0","_c0","_r0","ɵɵstyleProp","ɵɵpipeBind1","active$","HttpRequest","HttpHandler","finalize","AppInterceptor","intercept","request","next","activate","handle","pipe","deActivate","ɵɵinject","i1","factory","ɵfac","BrowserAnimationsModule","provideHttp","provideLoader","BrowserModule","registerLocaleData","LOCALE_ID","BR","pt","RouterModule","MatSidenavModule","MatMenuModule","MatDividerModule","MatToolbarModule","MatButtonModule","MatIconModule","LayoutModule","HttpClient","HttpClientModule","HTTP_INTERCEPTORS","provideRail","provideContent","LoaderComponent","appRoutes","env","AppModule","bootstrap","account","learning","content","useValue","useClass","multi","imports","forRoot","useHash","initialNavigation","declarations","path","loadChildren","then","m","LearningFeatureModule","DashboardFeatureModule","AccountFeatureModule","ContentFeatureModule","LoaderComponent_Template","__NgCli_bootstrap_1","platformBrowser","bootstrapModule","catch","err","console","error","ContentFacade","ContentServiceImpl","ContentServiceMock","ContentService","provideContentService","provideContentServiceMock","provideContentFacade","ContentRepository","RailFacade","RailServiceImpl","RailServiceMock","RailService","provideRailService","provideRailServiceMock","provideRailFacade","RailRepository","Store","active","select","state","setState","BehaviorSubject","distinctUntilChanged","map","_state","WeakMap","_classPrivateFieldGet","getValue","initialState","_classPrivateFieldInitSpec","writable","Object","freeze","_classPrivateFieldSet","mapFn","asObservable","newState","url","find","options","get","params","count","where","post","filter","update","put","remove","delete","removeBulk","ids","findOne","InMemoryService","createDb","reqInfo","items","log","genId","MissingStoresError","Error","db","DBClosedError","dbName","code","_database","_pendingTransactions","IndexedDbService","database","name","version","stores","_asyncToGenerator","_classStaticPrivateMethodGet","_openDatabase","call","hasPendingTransactions","length","close","splice","forEach","transaction","abort","runInTransaction","store","transactionMode","dbRequestFn","_this","Promise","c","e","oncomplete","Array","isArray","r","result","onerror","onabort","objectStore","finally","indexOf","getKeyValues","isValid","_this2","resolve","Map","cursor","openCursor","onsuccess","set","key","toString","continue","onError","_class","_x","_x2","_x3","_openDatabase3","_doOpenDatabase","info","_deleteDatabase","apply","arguments","indexedDB","deleteRequest","window","deleteDatabase","open","objectStoreNames","contains","onupgradeneeded","createObjectStore","PageMeta","Paged","base","impl","skip","take","order","sort","ord","entities","slice","a","b","itemCount","pageMetaDto","index","findIndex","item","affected","baseUrl","Entity","catchError","service","data","meta","hasNextPage","hasPreviousPage","page","pageCount","loading","selected","warning","selected$","loading$","warning$","count$","data$","meta$","handleError","caught","message","find$","subscribe","response","findOne$","createContent","create$","updateContent","update$","remove$","Math","ceil","token","container","values","uniqueToken","add","getAll","symbol","Symbol","by","Collection","entries","direction","valueA","valueB","reduce","prev","curr","findOneBy","val","some","Cast","String","JSON","stringify","fromString","isNaN","parse","enumOptions","text","Order","orderOptions"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}