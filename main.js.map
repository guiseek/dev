{"version":3,"file":"main.js","mappings":"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","sources":["./app/src/app/app.component.ts","./app/src/app/app.interceptor.ts","./app/src/app/app.module.ts","./app/src/app/app.routes.ts","./app/src/app/loader/index.ts","./app/src/app/loader/loader.component.ts","./app/src/app/shared/index.ts","./app/src/app/shared/material.ts","./app/src/main.ts","./shared/data-access/src/index.ts","./shared/data-access/src/lib/application/index.ts","./shared/data-access/src/lib/application/loader.ts","./shared/data-access/src/lib/application/store.ts","./shared/data-access/src/lib/data-access.ts","./shared/data-access/src/lib/infrastructure/base-service.ts","./shared/data-access/src/lib/infrastructure/in-memory.service.ts","./shared/data-access/src/lib/infrastructure/index.ts","./shared/data-access/src/lib/infrastructure/indexed-db.service.impl.ts","./shared/data-access/src/lib/infrastructure/mock.service.ts","./shared/data-access/src/lib/ports/http.ts","./shared/data-access/src/lib/ports/index.ts","./shared/data-access/src/public-api.ts","./shared/ui-base/src/index.ts","./shared/ui-base/src/lib/base/feature-container.ts","./shared/ui-base/src/lib/base/form-dialog.ts","./shared/ui-base/src/lib/base/index.ts","./shared/ui-base/src/lib/base/list-selectable.ts","./shared/ui-base/src/lib/components/index.ts","./shared/ui-base/src/lib/components/selection-menu/selection-menu.component.ts","./shared/ui-base/src/lib/components/selection-menu/selection-menu.ts","./shared/ui-base/src/lib/directives/index.ts","./shared/ui-base/src/lib/directives/menu-items-link-active.directive.ts","./shared/ui-base/src/lib/ui-base.module.ts","./shared/ui-base/src/public-api.ts","./shared/util-data/src/index.ts","./shared/util-data/src/lib/base/entity.ts","./shared/util-data/src/lib/base/facade.ts","./shared/util-data/src/lib/base/index.ts","./shared/util-data/src/lib/base/page-meta.ts","./shared/util-data/src/lib/base/paged.ts","./shared/util-data/src/lib/base/store.ts","./shared/util-data/src/lib/di/container.ts","./shared/util-data/src/lib/di/index.ts","./shared/util-data/src/lib/di/token.ts","./shared/util-data/src/lib/filter/by.ts","./shared/util-data/src/lib/filter/collection.ts","./shared/util-data/src/lib/filter/index.ts","./shared/util-data/src/lib/filter/where.ts","./shared/util-data/src/lib/interfaces/bulk-result.ts","./shared/util-data/src/lib/interfaces/create.ts","./shared/util-data/src/lib/interfaces/find-one-by.ts","./shared/util-data/src/lib/interfaces/find-one.ts","./shared/util-data/src/lib/interfaces/find-params.ts","./shared/util-data/src/lib/interfaces/find.ts","./shared/util-data/src/lib/interfaces/index.ts","./shared/util-data/src/lib/interfaces/page-options.ts","./shared/util-data/src/lib/interfaces/page-params.ts","./shared/util-data/src/lib/interfaces/remove.ts","./shared/util-data/src/lib/interfaces/repository.ts","./shared/util-data/src/lib/interfaces/service.ts","./shared/util-data/src/lib/interfaces/update.ts","./shared/util-data/src/lib/mapper/cast.ts","./shared/util-data/src/lib/mapper/enum-options.ts","./shared/util-data/src/lib/mapper/index.ts","./shared/util-data/src/lib/sort/index.ts","./shared/util-data/src/lib/sort/order.ts","./shared/util-data/src/lib/types/fn.ts","./shared/util-data/src/lib/types/index.ts","./shared/util-data/src/lib/types/type.ts","./shared/util-data/src/lib/types/where.ts","./shared/util-data/src/public-api.ts"],"sourcesContent":["import {MediaMatcher} from '@angular/cdk/layout'\nimport {Loader} from '@dev/shared-data-access'\nimport {\n  inject,\n  Component,\n  ChangeDetectorRef,\n  ChangeDetectionStrategy,\n} from '@angular/core'\n\n@Component({\n  selector: 'dev-root',\n  template: `\n    <div class=\"app-container\" [class.app-is-mobile]=\"mobileQuery.matches\">\n      <mat-toolbar color=\"primary\" class=\"app-toolbar\">\n        <!--  -->\n\n        <a routerLink=\"/\">\n          <img src=\"./assets/logo.svg\" alt=\"Quero Ser Dev\" />\n        </a>\n        <a class=\"app-name\" routerLink=\"/\">\n          <h1>Quero Ser Dev</h1>\n        </a>\n\n        <!--  -->\n\n        <span class=\"spacer\"></span>\n\n        <!--  -->\n\n        <a\n          mat-button\n          routerLink=\"/\"\n          routerLinkActive=\"active\"\n          [routerLinkActiveOptions]=\"{exact: true}\"\n          >Home</a\n        >\n      </mat-toolbar>\n\n      <mat-sidenav-container\n        class=\"app-sidenav-container\"\n        [style.marginTop.px]=\"mobileQuery.matches ? 56 : 0\"\n      >\n        <mat-sidenav-content>\n          <router-outlet />\n          <dev-loader *ngIf=\"loader.active$ | async\" />\n        </mat-sidenav-content>\n      </mat-sidenav-container>\n    </div>\n  `,\n  styleUrls: ['./app.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class AppComponent {\n  loader = inject(Loader)\n\n  media = inject(MediaMatcher)\n  changeDetectorRef = inject(ChangeDetectorRef)\n\n  mobileQuery\n\n  constructor() {\n    this.mobileQuery = this.media.matchMedia('(max-width: 600px)')\n    const _mobileQueryListener = () => this.changeDetectorRef.detectChanges()\n    this.mobileQuery.addListener(_mobileQueryListener)\n  }\n}\n","import {HttpRequest, HttpHandler, HttpInterceptor} from '@angular/common/http'\nimport {Loader} from '@dev/shared-data-access'\nimport {Injectable} from '@angular/core'\nimport {finalize} from 'rxjs'\n\n@Injectable()\nexport class AppInterceptor implements HttpInterceptor {\n  constructor(private readonly loader: Loader) {}\n\n  intercept(request: HttpRequest<unknown>, next: HttpHandler) {\n    this.loader.activate()\n    return next.handle(request).pipe(\n      // delay(300),\n      finalize(() => this.loader.deActivate())\n    )\n  }\n}\n","import {provideHttp, provideLoader} from '@dev/shared-data-access'\nimport {UiBaseModule} from '@dev/shared-ui-base'\nimport {BrowserAnimationsModule} from '@angular/platform-browser/animations'\nimport {BrowserModule} from '@angular/platform-browser'\nimport {registerLocaleData} from '@angular/common'\nimport {LOCALE_ID, NgModule} from '@angular/core'\nimport {RouterModule} from '@angular/router'\nimport BR from '@angular/common/locales/extra/br'\nimport pt from '@angular/common/locales/pt'\nimport {\n  HttpClient,\n  HttpClientModule,\n  HTTP_INTERCEPTORS,\n} from '@angular/common/http'\nimport {AppInterceptor} from './app.interceptor'\nimport {AppComponent} from './app.component'\nimport {LoaderComponent} from './loader'\nimport {SharedMaterial} from './shared'\nimport {appRoutes} from './app.routes'\n\nregisterLocaleData(pt, 'pt-BR', BR)\n\n@NgModule({\n  declarations: [AppComponent, LoaderComponent],\n  imports: [\n    UiBaseModule,\n    BrowserModule,\n    HttpClientModule,\n    SharedMaterial.forApp(),\n    BrowserAnimationsModule,\n    RouterModule.forRoot(appRoutes, {\n      useHash: true,\n      initialNavigation: 'enabledBlocking',\n    }),\n  ],\n  providers: [\n    provideHttp(HttpClient),\n    provideLoader(),\n    {\n      provide: LOCALE_ID,\n      useValue: 'pt-BR',\n    },\n    {\n      provide: HTTP_INTERCEPTORS,\n      useClass: AppInterceptor,\n      multi: true,\n    },\n  ],\n  bootstrap: [AppComponent],\n})\nexport class AppModule {}\n","import {Route} from '@angular/router'\n\nexport const appRoutes: Route[] = [\n  {\n    path: '',\n    loadChildren: () =>\n      import('@dev/tools-feature').then((m) => m.ToolsFeatureModule),\n  },\n]\n","export * from './loader.component'\n","import {ChangeDetectionStrategy, Component} from '@angular/core'\n\n@Component({\n  selector: 'dev-loader',\n  template: ` <div class=\"sky\"></div> `,\n  styleUrls: ['./loader.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class LoaderComponent {}\n","export * from './material'\n","import {MatMenuModule} from '@angular/material/menu'\nimport {MatSidenavModule} from '@angular/material/sidenav'\nimport {MatDividerModule} from '@angular/material/divider'\nimport {MatToolbarModule} from '@angular/material/toolbar'\nimport {MatButtonModule} from '@angular/material/button'\nimport {MatIconModule} from '@angular/material/icon'\nimport {LayoutModule} from '@angular/cdk/layout'\n\nexport class SharedMaterial {\n  static forApp() {\n    return [\n      LayoutModule,\n      MatDividerModule,\n      MatSidenavModule,\n      MatMenuModule,\n      MatToolbarModule,\n      MatButtonModule,\n      MatIconModule,\n    ]\n  }\n}\n","import {platformBrowserDynamic} from '@angular/platform-browser-dynamic'\nimport {AppModule} from './app/app.module'\n\nplatformBrowserDynamic()\n  .bootstrapModule(AppModule)\n  .catch((err) => console.error(err))\n","export * from './public-api'\n","export * from './loader'\nexport * from './store'\n","import {Store} from './store'\n\ninterface LoaderState {\n  active: boolean\n}\n\nexport class Loader extends Store<LoaderState> {\n  active$ = this.select((state) => state.active)\n\n  constructor() {\n    super({active: false})\n  }\n\n  activate() {\n    this.setState({active: true})\n  }\n\n  deActivate() {\n    this.setState({active: false})\n  }\n}\n","import {BehaviorSubject, distinctUntilChanged, map} from 'rxjs'\n\nexport abstract class Store<T> {\n  #state: BehaviorSubject<T>\n\n  protected get state(): T {\n    return this.#state.getValue()\n  }\n\n  constructor(initialState: T) {\n    const state = Object.freeze(initialState)\n    this.#state = new BehaviorSubject<T>(state)\n  }\n\n  protected select<K>(mapFn: (state: T) => K) {\n    return this.#state.asObservable().pipe(\n      map((state: T) => mapFn(state)),\n      distinctUntilChanged()\n    )\n  }\n\n  protected setState(newState: Partial<T>) {\n    this.#state.next({\n      ...this.state,\n      ...newState,\n    })\n  }\n}\n","import {Loader} from './application'\nimport {Http} from './ports'\n\nexport function provideHttp<T>(http: T) {\n  return {\n    provide: Http,\n    useClass: http,\n  }\n}\n\nexport function provideLoader() {\n  return {\n    provide: Loader,\n  }\n}\n","import {\n  Paged,\n  Where,\n  Service,\n  BulkResult,\n  FindParams,\n} from '@dev/shared-util-data'\nimport {Http} from '../ports'\n\nexport abstract class BaseService<T extends object> implements Service<T> {\n  constructor(private readonly http: Http<T>, readonly url: string) {}\n\n  find({options}: FindParams<T> = {options: {}}) {\n    return this.http.get<Paged<T>>(this.url, {params: options})\n  }\n\n  count(where: Where<T> = {}) {\n    return this.http.post<number>(`${this.url}/count`, where)\n  }\n\n  filter({where = {}, options}: FindParams<T> = {where: {}, options: {}}) {\n    return this.http.post<Paged<T>, Where<T>>(`${this.url}/filter`, where, {\n      params: options,\n    })\n  }\n\n  create(value: Partial<T>) {\n    return this.http.post<T, Partial<T>>(this.url, value)\n  }\n\n  update(value: Partial<T>) {\n    return this.http.put<T, Partial<T>>(this.url, value)\n  }\n\n  remove(id: string) {\n    return this.http.delete<T>(`${this.url}/${id}`)\n  }\n\n  removeBulk(...ids: string[]) {\n    return this.http.delete<BulkResult>(`${this.url}/bulk`, {params: {ids}})\n  }\n\n  findOne(value: string) {\n    return this.http.delete<T>(`${this.url}/${value}`)\n  }\n}\n","import {InMemoryDbService, RequestInfo} from 'angular-in-memory-web-api'\nimport {Observable, of} from 'rxjs'\n\nexport class InMemoryService<T extends object> implements InMemoryDbService {\n  createDb(reqInfo?: RequestInfo, ...items: T[]): Observable<T[]> {\n    console.log(reqInfo)\n    return of([...items])\n  }\n\n  genId() {\n    return crypto.randomUUID()\n  }\n}\n","export * from './base-service'\nexport * from './in-memory.service'\nexport * from './indexed-db.service.impl'\nexport * from './mock.service'\n","// function arrayBufferToBlob<B extends ArrayBuffer, T extends string>(\n//   buffer: B,\n//   type: T\n// ) {\n//   return new Blob([buffer], {type: type})\n// }\n\n// function blobToArrayBuffer(blob: Blob) {\n//   return new Promise<ArrayBuffer>((resolve, reject) => {\n//     const reader = new FileReader()\n//     reader.addEventListener('loadend', () => {\n//       if (reader.result instanceof ArrayBuffer) {\n//         resolve(reader.result)\n//       }\n//     })\n//     reader.addEventListener('error', reject)\n//     reader.readAsArrayBuffer(blob)\n//   })\n// }\n\nclass MissingStoresError extends Error {\n  constructor(readonly db: IDBDatabase) {\n    super('Missing stores')\n  }\n}\n\nexport class DBClosedError extends Error {\n  readonly code = 'DBClosed'\n  constructor(dbName: string) {\n    super(`IndexedDB database '${dbName}' is closed.`)\n  }\n}\n\nexport class IndexedDbService {\n  #database: IDBDatabase | null\n\n  readonly #pendingTransactions: IDBTransaction[] = []\n\n  constructor(database: IDBDatabase, private readonly name: string) {\n    this.#database = database\n  }\n\n  static async create(\n    name: string,\n    version: number | undefined,\n    stores: string[]\n  ) {\n    const database = await IndexedDbService.#openDatabase(name, version, stores)\n    return new IndexedDbService(database, name)\n  }\n\n  static async #openDatabase(\n    name: string,\n    version: number | undefined,\n    stores: string[]\n  ) {\n    try {\n      return await IndexedDbService.#doOpenDatabase(name, version, stores)\n    } catch (err) {\n      if (err instanceof MissingStoresError) {\n        console.info(`Attempting to recreate the IndexedDB once.`, name)\n\n        try {\n          // Try to delete the db\n          await IndexedDbService.#deleteDatabase(err.db)\n        } catch (error) {\n          console.error(\n            `Error while deleting the IndexedDB`,\n            error\n            // getErrorMessage(error)\n          )\n          throw error\n        }\n\n        return await IndexedDbService.#doOpenDatabase(name, version, stores)\n      }\n\n      throw err\n    }\n  }\n\n  static #deleteDatabase(indexedDB: IDBDatabase) {\n    return new Promise<void>((c, e) => {\n      // Close any opened connections\n      indexedDB.close()\n\n      // Delete the db\n      const deleteRequest = window.indexedDB.deleteDatabase(indexedDB.name)\n      deleteRequest.onerror = () => e(deleteRequest.error)\n      deleteRequest.onsuccess = () => c()\n    })\n  }\n\n  static #doOpenDatabase(\n    name: string,\n    version: number | undefined,\n    stores: string[]\n  ): Promise<IDBDatabase> {\n    return new Promise((c, e) => {\n      const request = window.indexedDB.open(name, version)\n      request.onerror = () => e(request.error)\n      request.onsuccess = () => {\n        const db = request.result\n        for (const store of stores) {\n          if (!db.objectStoreNames.contains(store)) {\n            console.error(\n              `Error while opening IndexedDB. Could not find '${store}'' object store`\n            )\n            e(new MissingStoresError(db))\n            return\n          }\n        }\n        c(db)\n      }\n      request.onupgradeneeded = () => {\n        const db = request.result\n        for (const store of stores) {\n          if (!db.objectStoreNames.contains(store)) {\n            db.createObjectStore(store)\n          }\n        }\n      }\n    })\n  }\n\n  hasPendingTransactions(): boolean {\n    return this.#pendingTransactions.length > 0\n  }\n\n  close(): void {\n    if (this.#pendingTransactions.length) {\n      this.#pendingTransactions\n        .splice(0, this.#pendingTransactions.length)\n        .forEach((transaction) => transaction.abort())\n    }\n    this.#database?.close()\n    this.#database = null\n  }\n\n  runInTransaction<T>(\n    store: string,\n    transactionMode: IDBTransactionMode,\n    dbRequestFn: (store: IDBObjectStore) => IDBRequest<T>[]\n  ): Promise<T[]>\n  runInTransaction<T>(\n    store: string,\n    transactionMode: IDBTransactionMode,\n    dbRequestFn: (store: IDBObjectStore) => IDBRequest<T>\n  ): Promise<T>\n  async runInTransaction<T>(\n    store: string,\n    transactionMode: IDBTransactionMode,\n    dbRequestFn: (store: IDBObjectStore) => IDBRequest<T> | IDBRequest<T>[]\n  ): Promise<T | T[]> {\n    if (!this.#database) {\n      throw new DBClosedError(this.name)\n    }\n    const transaction = this.#database.transaction(store, transactionMode)\n    this.#pendingTransactions.push(transaction)\n    return new Promise<T | T[]>((c, e) => {\n      transaction.oncomplete = () => {\n        if (Array.isArray(request)) {\n          c(request.map((r) => r.result))\n        } else {\n          c(request.result)\n        }\n      }\n      transaction.onerror = () => e(transaction.error)\n      transaction.onabort = () => e(transaction.error)\n      const request = dbRequestFn(transaction.objectStore(store))\n    }).finally(() =>\n      this.#pendingTransactions.splice(\n        this.#pendingTransactions.indexOf(transaction),\n        1\n      )\n    )\n  }\n\n  async getKeyValues<V>(\n    store: string,\n    isValid: (value: unknown) => value is V\n  ): Promise<Map<string, V>> {\n    if (!this.#database) {\n      throw new DBClosedError(this.name)\n    }\n    const transaction = this.#database.transaction(store, 'readonly')\n    this.#pendingTransactions.push(transaction)\n    return new Promise<Map<string, V>>((resolve) => {\n      const items = new Map<string, V>()\n\n      const objectStore = transaction.objectStore(store)\n\n      // Open a IndexedDB Cursor to iterate over key/values\n      const cursor = objectStore.openCursor()\n      if (!cursor) {\n        return resolve(items) // this means the `ItemTable` was empty\n      }\n\n      // Iterate over rows of `ItemTable` until the end\n      cursor.onsuccess = () => {\n        if (cursor.result) {\n          // Keep cursor key/value in our map\n          if (isValid(cursor.result.value)) {\n            items.set(cursor.result.key.toString(), cursor.result.value)\n          }\n\n          // Advance cursor to next row\n          cursor.result.continue()\n        } else {\n          resolve(items) // reached end of table\n        }\n      }\n\n      // Error handlers\n      const onError = (error: Error | null) => {\n        // console.error(`IndexedDB getKeyValues(): ${toErrorMessage(error, true)}`);\n        console.error(`IndexedDB getKeyValues(): ${error}`)\n\n        resolve(items)\n      }\n      cursor.onerror = () => onError(cursor.error)\n      transaction.onerror = () => onError(transaction.error)\n    }).finally(() =>\n      this.#pendingTransactions.splice(\n        this.#pendingTransactions.indexOf(transaction),\n        1\n      )\n    )\n  }\n}\n\n// const db = IndexedDbService.create('db', undefined, ['store1'])\n// console.log(db)\n","import {SvcMockOf} from '../types'\nimport {Observable, of} from 'rxjs'\nimport {\n  Entity,\n  FindParams,\n  PageMeta,\n  Paged,\n  Service,\n  Where,\n  where,\n} from '@dev/shared-util-data'\n\nexport function provideServiceMock<E extends Entity, B>(\n  base: B,\n  impl: SvcMockOf<E>,\n  collection: E[]\n) {\n  return {\n    provide: base,\n    useFactory() {\n      return new impl(collection)\n    },\n  }\n}\n\nexport abstract class MockService<\n  T extends Entity & object\n> extends Service<T> {\n  constructor(readonly collection: T[] = []) {\n    super()\n  }\n\n  find(params: FindParams<T> = {where: {}, options: {}}) {\n    const {\n      skip = 0,\n      take = 10,\n      order,\n      sort = 'createdAt',\n    } = params.options ?? {}\n\n    const ord = order === 'ASC' ? 1 : -1\n    console.log(this.collection)\n\n    const entities = this.collection\n      // .filter(where(params.where ?? {}))\n      .slice(skip, skip + take)\n      .sort((a, b) => {\n        return a[sort as keyof T] > b[sort as keyof T] ? ord : ord * -1\n      })\n\n    const options = params.options ?? {}\n\n    const itemCount = entities.length\n\n    const pageMetaDto = new PageMeta({itemCount, options})\n\n    return of(new Paged(entities, pageMetaDto))\n  }\n\n  filter(params: FindParams<T>): Observable<Paged<T>> {\n    return this.find(params)\n  }\n\n  count(params: Where<T>) {\n    const entities = this.collection.filter(where(params))\n\n    return of(entities.length)\n  }\n\n  // abstract override create(value: Partial<T>): Observable<T>\n\n  update(value: Partial<T>) {\n    const index = this.collection.findIndex((item) => item.id === value.id)\n    const entity = {...this.collection[index], ...value}\n    this.collection[index] = entity\n    return of(entity)\n  }\n\n  remove(id: string) {\n    const index = this.collection.findIndex((item) => item.id === id)\n    const entity = this.collection[index]\n    this.collection.splice(index, 1)\n    return of(entity)\n  }\n\n  removeBulk(...ids: string[]) {\n    const {length} = ids.map((id) => this.remove(id))\n    return of({affected: length})\n  }\n\n  findOne(id: string) {\n    return of(this.collection.find((item) => item.id === id) ?? null)\n  }\n}\n","import {Observable} from 'rxjs'\n\nabstract class Http<T = unknown> {\n  constructor(protected readonly baseUrl: string) {}\n\n  protected abstract request<R = T, D = unknown>(\n    method: string,\n    path: string,\n    data?: T | D\n  ): Observable<R>\n\n  abstract get<R>(path: string, config?: Partial<RequestConfig>): Observable<R>\n\n  abstract post<R, D = unknown>(\n    path: string,\n    data: D,\n    options?: Partial<RequestConfig>\n  ): Observable<R>\n\n  abstract put<R, D = unknown>(\n    path: string,\n    data: D,\n    options?: Partial<RequestConfig>\n  ): Observable<R>\n\n  abstract delete<R, D = unknown>(\n    path: string,\n    data?: D,\n    options?: Partial<RequestConfig>\n  ): Observable<R>\n}\n\ninterface ResponseTypeMap<T = void> {\n  arrayBuffer: ArrayBuffer\n  text: string\n  blob: Blob\n  json: T\n}\n\ninterface RequestConfig extends Omit<RequestInit, 'method'> {\n  responseType: keyof ResponseTypeMap\n  params?: object\n}\n\ntype FetchResponse<T, C extends RequestConfig> =\n  | ResponseTypeMap<T>[C extends keyof ResponseTypeMap\n      ? C['responseType']\n      : 'json']\n\nexport {Http}\nexport type {ResponseTypeMap, RequestConfig, FetchResponse}\n","export * from './http'\n","export * from './lib/infrastructure'\nexport * from './lib/data-access'\nexport * from './lib/application'\nexport * from './lib/ports'\n","export * from './public-api'\n","import {takeUntilDestroyed} from '@angular/core/rxjs-interop'\nimport {MatDialog, MatDialogRef} from '@angular/material/dialog'\nimport {Entity, Facade, Order, Where} from '@dev/shared-util-data'\nimport {MatTableDataSource} from '@angular/material/table'\nimport {MatPaginator} from '@angular/material/paginator'\nimport {DestroyRef, Directive} from '@angular/core'\nimport {MatSort} from '@angular/material/sort'\nimport {FormControl} from '@angular/forms'\nimport {FormDialog} from './form-dialog'\nimport {SelectionMenu} from '../components'\nimport {ListSelectable} from './list-selectable'\n\ninterface FieldOption {\n  text: string\n  value: string\n}\n\nexport type Columns<T extends object> = ('select' | 'actions' | keyof T)[]\n\n@Directive()\nexport abstract class FeatureContainer<T extends Entity> {\n  abstract readonly columns: FormControl<Columns<T> | null>\n\n  abstract readonly columnList: FieldOption[]\n\n  abstract readonly dialog: MatDialog\n  abstract readonly facade: Facade<T>\n\n  abstract readonly destroyRef: DestroyRef\n  abstract readonly paginator: MatPaginator\n  abstract readonly sort: MatSort\n\n  list?: ListSelectable<T>\n\n  readonly dataSource = new MatTableDataSource<T>()\n\n  get meta$() {\n    return this.facade.meta$\n  }\n\n  selection = new SelectionMenu<T>(true, [])\n\n  initialize() {\n    const pagination$ = (\n      this.list ? this.list.paginator : this.paginator\n    ).page.pipe(takeUntilDestroyed(this.destroyRef))\n\n    const sorted$ = (this.list ? this.list.sort : this.sort).sortChange.pipe(\n      takeUntilDestroyed(this.destroyRef)\n    )\n\n    const items$ = this.facade.data$.pipe(takeUntilDestroyed(this.destroyRef))\n\n    pagination$.subscribe((value) => {\n      const order = this.sort.direction ? Order.ASC : Order.DESC\n      this.update(this.sort.active, order, value.pageIndex)\n    })\n\n    sorted$.subscribe((value) => {\n      const order = value.direction ? Order.ASC : Order.DESC\n      this.update(value.active, order, this.paginator.pageIndex)\n    })\n\n    items$.subscribe((data) => {\n      this.selection.clear()\n      this.dataSource.paginator = this.paginator\n      this.dataSource.sort = this.sort\n      this.dataSource.data = data\n    })\n\n    this.facade.find()\n  }\n\n  get columnsHasSelect() {\n    const columns = this.columns.value ?? []\n    return columns.includes('select')\n  }\n\n  isAllSelected() {\n    const numSelected = this.selection.selected.length\n    const numRows = this.dataSource.data.length\n    return numSelected === numRows\n  }\n\n  toggleAllRows() {\n    if (this.isAllSelected()) {\n      this.selection.clear()\n      return\n    }\n\n    this.selection.select(...this.dataSource.data)\n  }\n\n  abstract openCreateDialog(): MatDialogRef<FormDialog<any>>\n  abstract openUpdateDialog(data: T): MatDialogRef<FormDialog<any>>\n\n  onCreate() {\n    const ref = this.openCreateDialog()\n    ref.componentInstance.message$ = this.facade.warning$\n    ref.componentInstance.form.submitted$.subscribe((value) => {\n      if (value) {\n        this.facade.create(value)\n        ref.close()\n      }\n    })\n  }\n\n  onUpdate(data: T) {\n    const ref = this.openUpdateDialog(data)\n    ref.componentInstance.message$ = this.facade.warning$\n    ref.componentInstance.form.submitted$.subscribe((value) => {\n      if (value) {\n        this.facade.update(value)\n        ref.close()\n      }\n    })\n  }\n\n  filter(where: Where<T>) {\n    this.facade.filter({where})\n  }\n\n  update(sort: string, order: Order, page: number) {\n    this.facade.find({options: {page: page + 1, sort, order}})\n  }\n\n  remove(id: string) {\n    this.facade.remove(id)\n  }\n\n  removeBulk() {\n    if (this.selection.hasValue()) {\n      const ids = this.selection.selected.map(({id}) => id)\n      this.facade.removeBulk(ids)\n      this.selection.clear()\n    }\n  }\n}\n","import {TypedFormGroup} from '@dev/shared-ui-forms'\nimport {of} from 'rxjs'\n\nexport abstract class FormDialog<T extends object> {\n  abstract form: TypedFormGroup<T>\n\n  message$ = of<string | null>(null)\n}\n","export * from './feature-container'\nexport * from './form-dialog'\nexport * from './list-selectable'\n","import {MatTableDataSource} from '@angular/material/table'\nimport {SelectionMenu} from '../components'\nimport {MatPaginator} from '@angular/material/paginator'\nimport {MatSort} from '@angular/material/sort'\n\nexport abstract class ListSelectable<T> {\n  abstract selection: SelectionMenu<T>\n  abstract dataSource: MatTableDataSource<T>\n\n  abstract paginator: MatPaginator\n  abstract sort: MatSort\n\n  isAllSelected() {\n    const numSelected = this.selection.selected.length\n    const numRows = this.dataSource.data.length\n    return numSelected === numRows\n  }\n\n  toggleAllRows() {\n    if (this.isAllSelected()) {\n      this.selection.clear()\n      return\n    }\n\n    this.selection.select(...this.dataSource.data)\n  }\n}\n","export * from './selection-menu/selection-menu.component'\nexport * from './selection-menu/selection-menu'\n","import {Input, Component, ContentChild} from '@angular/core'\nimport {MatMenu} from '@angular/material/menu'\nimport {SelectionMenu} from './selection-menu'\n\n@Component({\n  selector: 'dev-selection-menu',\n  template: `\n    <button\n      mat-stroked-button\n      [disabled]=\"selection.hasValue() === false\"\n      [matMenuTriggerFor]=\"menu\"\n    >\n      <mat-icon>checklist</mat-icon>\n      <span>Com selecionados</span>\n    </button>\n    <ng-content select=\"mat-menu\"></ng-content>\n  `,\n  styles: [\n    `\n      :host {\n        display: block;\n      }\n    `,\n  ],\n})\nexport class SelectionMenuComponent<T> {\n  @ContentChild(MatMenu)\n  menu: MatMenu\n\n  @Input({required: true})\n  selection!: SelectionMenu<T>\n}\n","import {SelectionModel} from '@angular/cdk/collections'\nimport {map} from 'rxjs'\n\nexport class SelectionMenu<T> extends SelectionModel<T> {\n  get selected$() {\n    return this.changed.asObservable().pipe(map(() => this.selected))\n  }\n}\n","export * from './menu-items-link-active.directive'\n","import {Input, Directive, DestroyRef, ElementRef} from '@angular/core'\nimport {takeUntilDestroyed} from '@angular/core/rxjs-interop'\nimport {NavigationEnd, Router} from '@angular/router'\nimport {filter} from 'rxjs'\n\n@Directive({\n  selector: '[devMenuLinkActive],[menuItemsLinkActive]',\n})\nexport class MenuItemsLinkActiveDirective {\n  @Input({required: true})\n  menuItemsBaseLink = ''\n\n  @Input({required: true})\n  menuItemsLinkActive = 'active'\n\n  constructor(\n    router: Router,\n    destroyRef: DestroyRef,\n    elementRef: ElementRef<HTMLButtonElement>\n  ) {\n    router.events\n      .pipe(\n        filter((e) => e instanceof NavigationEnd),\n        takeUntilDestroyed(destroyRef)\n      )\n      .subscribe(() => {\n        if (router.url.startsWith(this.menuItemsBaseLink)) {\n          elementRef.nativeElement.classList.add(\n            this.menuItemsLinkActive ?? 'active'\n          )\n        } else {\n          elementRef.nativeElement.classList.remove(\n            this.menuItemsLinkActive ?? 'active'\n          )\n        }\n      })\n  }\n}\n","import {NgModule} from '@angular/core'\nimport {CommonModule} from '@angular/common'\nimport {RouterModule} from '@angular/router'\nimport {MatButtonModule} from '@angular/material/button'\nimport {MatMenuModule} from '@angular/material/menu'\nimport {MatIconModule} from '@angular/material/icon'\nimport {SelectionMenuComponent} from './components'\nimport {MenuItemsLinkActiveDirective} from './directives'\n\n@NgModule({\n  imports: [\n    CommonModule,\n    RouterModule,\n    MatButtonModule,\n    MatIconModule,\n    MatMenuModule,\n  ],\n  declarations: [SelectionMenuComponent, MenuItemsLinkActiveDirective],\n  exports: [SelectionMenuComponent, MenuItemsLinkActiveDirective],\n})\nexport class UiBaseModule {}\n","export * from './lib/ui-base.module'\nexport * from './lib/components'\nexport * from './lib/base'\n","export * from './public-api'\n","export class Entity {\n  id: string\n  createdAt: Date\n  updatedAt: Date\n}\n","import {FindParams, Service} from '../interfaces'\nimport {Observable, catchError, take} from 'rxjs'\nimport {Store} from './store'\nimport {Where} from '../types'\nimport {Paged} from './paged'\n\ninterface FacadeState<T> extends Paged<T> {\n  selected: T | null\n  warning: string | null\n  loading: boolean\n  count: number\n}\n\nexport abstract class Facade<T extends object> extends Store<FacadeState<T>> {\n  selected$ = this.select((state) => state.selected)\n  loading$ = this.select((state) => state.loading)\n  warning$ = this.select((state) => state.warning)\n  count$ = this.select((state) => state.count)\n  data$ = this.select((state) => state.data)\n  meta$ = this.select((state) => state.meta)\n\n  constructor(protected readonly service: Service<T>) {\n    super({\n      data: [],\n      meta: {\n        hasNextPage: false,\n        hasPreviousPage: false,\n        itemCount: 0,\n        page: 1,\n        pageCount: 0,\n        take: 10,\n      },\n      loading: false,\n      selected: null,\n      warning: null,\n      count: 0,\n    })\n  }\n\n  find(params?: FindParams<T>) {\n    const find$ = this.service.find(params).pipe(take(1))\n    find$.subscribe((response) => this.setState(response))\n  }\n\n  count(where?: Where<T>) {\n    const find$ = this.service.count(where).pipe(take(1))\n    find$.subscribe((count) => this.setState({count}))\n  }\n\n  filter(params: FindParams<T>) {\n    const find$ = this.service.filter(params).pipe(take(1))\n    find$.subscribe((response) => this.setState(response))\n  }\n\n  findOne(id: string) {\n    const findOne$ = this.service.findOne(id).pipe(take(1))\n    findOne$.subscribe((selected) => this.setState({selected}))\n  }\n\n  create(createContent: Partial<T>) {\n    const create$ = this.service.create(createContent).pipe(take(1))\n    create$.pipe(catchError(this.handleError)).subscribe((selected) => {\n      this.setState({selected})\n      this.find()\n    })\n  }\n\n  update(updateContent: Partial<T>) {\n    const update$ = this.service.update(updateContent).pipe(take(1))\n    update$.pipe(catchError(this.handleError)).subscribe((selected) => {\n      this.setState({selected})\n      this.find()\n    })\n  }\n\n  remove(id: string) {\n    const remove$ = this.service.remove(id).pipe(take(1))\n    remove$.subscribe((selected) => {\n      this.setState({selected})\n      this.find()\n    })\n  }\n\n  removeBulk(ids: string[]) {\n    const remove$ = this.service.removeBulk(...ids).pipe(take(1))\n    remove$.subscribe(() => this.find())\n  }\n\n  handleError = (err: {error: Error}, caught: Observable<T>) => {\n    if (err) {\n      this.setState({warning: err.error.message})\n      throw err.error.message\n    }\n    return caught\n  }\n}\n","export * from './entity'\nexport * from './facade'\nexport * from './page-meta'\nexport * from './paged'\nexport * from './store'\n","import {PageParams} from '../interfaces'\n\nexport class PageMeta {\n  readonly page: number\n\n  readonly take: number\n\n  readonly itemCount: number\n\n  readonly pageCount: number\n\n  readonly hasPreviousPage: boolean\n\n  readonly hasNextPage: boolean\n\n  constructor({options, itemCount}: PageParams) {\n    this.page = options.page ?? 1\n    this.take = options.take ?? 10\n    this.itemCount = itemCount\n    this.pageCount = Math.ceil(this.itemCount / this.take)\n    this.hasPreviousPage = this.page > 1\n    this.hasNextPage = this.page < this.pageCount\n  }\n}\n","import {PageMeta} from './page-meta'\n\nexport class Paged<T> {\n  readonly data: T[]\n\n  readonly meta: PageMeta\n\n  constructor(data: T[], meta: PageMeta) {\n    this.data = data\n    this.meta = meta\n  }\n}\n","import {BehaviorSubject, distinctUntilChanged, map} from 'rxjs'\n\nexport abstract class Store<T> {\n  #state: BehaviorSubject<T>\n\n  protected get state(): T {\n    return this.#state.getValue()\n  }\n\n  constructor(initialState: T) {\n    const state = Object.freeze(initialState)\n    this.#state = new BehaviorSubject<T>(state)\n  }\n\n  protected select<K>(mapFn: (state: T) => K) {\n    return this.#state.asObservable().pipe(\n      map((state: T) => mapFn(state)),\n      distinctUntilChanged()\n    )\n  }\n\n  protected setState(newState: Partial<T>) {\n    this.#state.next({\n      ...this.state,\n      ...newState,\n    })\n  }\n}\n","import {Type} from '../types'\nimport {token} from './token'\n\nconst container = new Map<symbol, Type<unknown>[]>()\n\nexport function create<N extends string, T>(name: N, ...values: Type<T>[]) {\n  const uniqueToken = token(name)\n  container.set(uniqueToken, values)\n  return {\n    token: uniqueToken,\n    container,\n    add<T>(value: Type<T>) {\n      const values = container.get(uniqueToken) ?? []\n      container.set(uniqueToken, [...values, value])\n    },\n    getAll() {\n      return container.get(uniqueToken) ?? []\n    },\n  }\n}\n","export * from './container'\nexport * from './token'\n","export const token = (name: string) => {\n  const symbol: unique symbol = Symbol(name)\n  return symbol\n}\n","export const by =\n  <E, K extends keyof E>(key: K, value: E[K]) =>\n  (item: E) =>\n    item[key] === value\n","import {Where} from '../types'\n\ntype SortOrder = 'ASC' | 'DESC'\n\ntype Order<T extends object> = {\n  [K in keyof T]: SortOrder\n}\n\nexport class Collection<T extends object> extends Array<T> {\n  constructor(...items: T[]) {\n    super(...items)\n  }\n\n  order(params: Order<T>) {\n    return this.sort((a, b) => {\n      return Object.entries(params)\n        .map(([key, direction]) => {\n          const valueA = a[key as keyof T]\n          const valueB = b[key as keyof T]\n\n          if (direction === 'ASC') {\n            if (valueA < valueB) return -1\n            if (valueA > valueB) return 1\n            return 0\n          } else {\n            if (valueA > valueB) return -1\n            if (valueA < valueB) return 1\n            return 0\n          }\n        })\n        .reduce((prev, curr) => (prev > curr ? 1 : -1))\n    })\n  }\n\n  findOneBy<K extends keyof T>(key: K, value: T[K]) {\n    return this.find((item) => item[key] === value)\n  }\n\n  where(params: Where<T>) {\n    return this.filter((entity) => {\n      return Object.entries(params)\n        .filter(([, val]) => val)\n        .some(([key, val]) => entity[key as keyof T] === val)\n    })\n  }\n}\n","export * from './by'\nexport * from './collection'\nexport * from './where'\n","import {Where} from '../types'\n\nexport function where<T>(where: Where<T>) {\n  return (entity: T) => {\n    Object.entries(where)\n      .filter(([, val]) => val)\n      .some(([key, val]) => entity[key as keyof T] === val)\n  }\n}\n","export interface BulkResult {\n  affected?: number | null\n}\n","import {Observable} from 'rxjs'\n\nexport interface Create<T extends object> {\n  create(value: Partial<T>): Promise<T> | Observable<T>\n}\n","import {Observable} from 'rxjs'\n\nexport interface FindOneBy<T extends object> {\n  findOne<K extends keyof T>(\n    key: K,\n    value: T[K]\n  ): Promise<T | null> | Observable<T | null>\n}\n","import {Observable} from 'rxjs'\n\nexport interface FindOne<T extends object> {\n  findOne(value: T[keyof T]): Promise<T | null> | Observable<T | null>\n}\n","import {Where} from '../types'\nimport {PageOptions} from './page-options'\n\nexport interface FindParams<T> {\n  options?: PageOptions\n  where?: Where<T>\n}\n","import {FindParams} from './find-params'\nimport {Observable} from 'rxjs'\nimport {Paged} from './paged'\n\nexport interface Find<T extends object> {\n  find(params?: FindParams<T>): Promise<Paged<T>> | Observable<Paged<T>>\n}\n","export * from './bulk-result'\nexport * from './create'\nexport * from './find-one-by'\nexport * from './find-one'\nexport * from './find-params'\nexport * from './find'\n// export * from './page-meta'\nexport * from './page-options'\nexport * from './page-params'\n// export * from './paged'\nexport * from './remove'\nexport * from './repository'\nexport * from './service'\nexport * from './update'\n","import {Order, OrderLiteral} from '../sort/order'\n\nexport interface PageOptions {\n  readonly order?: Order | OrderLiteral\n  readonly sort?: string\n  readonly page?: number\n  readonly take?: number\n  readonly skip?: number\n}\n","import {PageOptions} from './page-options'\n\nexport interface PageParams {\n  options: PageOptions\n  itemCount: number\n}\n","import {Observable} from 'rxjs'\n\nexport interface Remove<T extends object> {\n  remove(id: string): Promise<T> | Observable<T>\n}\n","import {FindParams} from './find-params'\nimport {BulkResult} from './bulk-result'\nimport {Paged} from './paged'\nimport {Where} from '../types'\n\nexport abstract class Repository<T extends object> {\n  abstract find(params?: FindParams<T>): Promise<Paged<T>>\n  abstract count(where?: Where<T>): Promise<BulkResult>\n  abstract create(value: Partial<T>): Promise<T>\n  abstract update(value: Partial<T>): Promise<T>\n  abstract remove(id: string): Promise<T>\n  abstract removeBulk(...ids: string[]): Promise<BulkResult>\n  abstract findOne<K extends keyof T>(key: K, value: T[K]): Promise<T | null>\n}\n","import {FindParams} from './find-params'\nimport {BulkResult} from './bulk-result'\nimport {Observable} from 'rxjs'\nimport {Paged} from '../base'\nimport {Where} from '../types'\n\nexport abstract class Service<T extends object> {\n  abstract find(params?: FindParams<T>): Observable<Paged<T>>\n  abstract count(where?: Where<T>): Observable<number>\n  abstract filter(params: FindParams<T>): Observable<Paged<T>>\n  abstract create(value: Partial<T>): Observable<T>\n  abstract update(value: Partial<T>): Observable<T>\n  abstract remove(id: string): Observable<T>\n  abstract removeBulk(...ids: string[]): Observable<BulkResult>\n  abstract findOne(value: string): Observable<T | null>\n}\n","import {Observable} from 'rxjs'\n\nexport interface Update<T extends object> {\n  update(value: Partial<T>): Promise<T> | Observable<T>\n}\n","export class Cast {\n  static toString<T>(value: T) {\n    return String(value) === '[object Object]'\n      ? JSON.stringify(value)\n      : (String(value) as string)\n  }\n\n  static fromString<R>(value: string) {\n    if (!isNaN(+value)) return +value as R\n\n    try {\n      return JSON.parse(value) as R\n    } catch {\n      return value as R\n    }\n  }\n}\n","export const enumOptions = <T extends object>(value: T) =>\n  Object.entries(value).map(\n    ([value, text]) =>\n      ({value, text} as {\n        value: keyof T\n        text: string\n      })\n  )\n","export * from './cast'\nexport * from './enum-options'\n","export * from './order'\n","import {enumOptions} from '../mapper'\n\nexport enum Order {\n  ASC = 'ASC',\n  DESC = 'DESC',\n}\n\nexport type OrderLiteral = `${Order}`\n\nexport const orderOptions = enumOptions(Order)\n","export type Fn<T = void> = (...params: any[]) => T\n","export * from './fn'\nexport * from './type'\nexport * from './where'\n","export interface Type<T = any> {\n  new (...params: any[]): T\n}\n","export type Where<Entity> = {\n  [P in keyof Entity]?: Entity[P]\n}\n","export * from './lib/di'\nexport * from './lib/base'\nexport * from './lib/types'\nexport * from './lib/sort'\nexport * from './lib/interfaces'\nexport * from './lib/filter'\nexport * from './lib/mapper'\n"],"names":["MediaMatcher","Loader","inject","ChangeDetectorRef","i0","ɵɵelement","AppComponent","constructor","loader","media","changeDetectorRef","mobileQuery","matchMedia","_mobileQueryListener","detectChanges","addListener","selectors","decls","vars","consts","template","AppComponent_Template","rf","ctx","ɵɵelementStart","ɵɵelementEnd","ɵɵtext","ɵɵtemplate","AppComponent_dev_loader_13_Template","ɵɵclassProp","matches","ɵɵadvance","ɵɵproperty","ɵɵpureFunction0","_c0","ɵɵstyleProp","ɵɵpipeBind1","active$","HttpRequest","HttpHandler","finalize","AppInterceptor","intercept","request","next","activate","handle","pipe","deActivate","ɵɵinject","i1","factory","ɵfac","provideHttp","provideLoader","UiBaseModule","BrowserAnimationsModule","BrowserModule","registerLocaleData","LOCALE_ID","RouterModule","BR","pt","HttpClient","HttpClientModule","HTTP_INTERCEPTORS","LoaderComponent","SharedMaterial","appRoutes","AppModule","bootstrap","provide","useValue","useClass","multi","imports","forApp","forRoot","useHash","initialNavigation","declarations","LayoutModule","i2","MatDividerModule","i3","MatSidenavModule","i4","MatMenuModule","i5","MatToolbarModule","i6","MatButtonModule","i7","MatIconModule","i8","path","loadChildren","then","m","ToolsFeatureModule","LoaderComponent_Template","__NgCli_bootstrap_1","platformBrowser","bootstrapModule","catch","err","console","error","Store","active","select","state","setState","BehaviorSubject","distinctUntilChanged","map","_state","WeakMap","_classPrivateFieldGet","getValue","initialState","_classPrivateFieldInitSpec","writable","value","Object","freeze","_classPrivateFieldSet","mapFn","asObservable","newState","Http","http","BaseService","url","find","options","get","params","count","where","post","filter","create","update","put","remove","id","delete","removeBulk","ids","findOne","of","InMemoryService","createDb","reqInfo","items","log","genId","crypto","randomUUID","MissingStoresError","Error","db","DBClosedError","dbName","code","_database","_pendingTransactions","IndexedDbService","database","name","version","stores","_asyncToGenerator","_classStaticPrivateMethodGet","_openDatabase","call","hasPendingTransactions","length","close","splice","forEach","transaction","abort","runInTransaction","store","transactionMode","dbRequestFn","_this","push","Promise","c","e","oncomplete","Array","isArray","r","result","onerror","onabort","objectStore","finally","indexOf","getKeyValues","isValid","_this2","resolve","Map","cursor","openCursor","onsuccess","set","key","toString","continue","onError","_class","_x","_x2","_x3","_openDatabase3","_doOpenDatabase","info","_deleteDatabase","apply","arguments","indexedDB","deleteRequest","window","deleteDatabase","open","objectStoreNames","contains","onupgradeneeded","createObjectStore","PageMeta","Paged","Service","provideServiceMock","base","impl","collection","useFactory","MockService","skip","take","order","sort","ord","entities","slice","a","b","itemCount","pageMetaDto","index","findIndex","item","entity","affected","baseUrl","takeUntilDestroyed","Order","MatTableDataSource","DestroyRef","SelectionMenu","FeatureContainer","dataSource","selection","meta$","facade","initialize","pagination$","list","paginator","page","destroyRef","sorted$","sortChange","items$","data$","subscribe","direction","ASC","DESC","pageIndex","data","clear","columnsHasSelect","columns","includes","isAllSelected","numSelected","selected","numRows","toggleAllRows","onCreate","ref","openCreateDialog","componentInstance","message$","warning$","form","submitted$","onUpdate","openUpdateDialog","hasValue","FormDialog","ListSelectable","MatMenu","SelectionMenuComponent","contentQueries","SelectionMenuComponent_ContentQueries","dirIndex","ɵɵprojection","menu","SelectionModel","selected$","changed","ElementRef","NavigationEnd","Router","MenuItemsLinkActiveDirective","router","elementRef","menuItemsBaseLink","menuItemsLinkActive","events","startsWith","nativeElement","classList","add","ɵɵdirectiveInject","inputs","CommonModule","exports","Entity","catchError","Facade","service","meta","hasNextPage","hasPreviousPage","pageCount","loading","warning","loading$","count$","handleError","caught","message","find$","response","findOne$","createContent","create$","updateContent","update$","remove$","Math","ceil","token","container","values","uniqueToken","getAll","symbol","Symbol","by","Collection","entries","valueA","valueB","reduce","prev","curr","findOneBy","val","some","Repository","Cast","String","JSON","stringify","fromString","isNaN","parse","enumOptions","text","orderOptions"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}